<section class="white-background">
  <div class="navbar white-background navbar-fixed-top" ng-include src="'views/header.html'"></div>
  <div class="profile margin-top-50" ng-if="!loading">
    <h1>{{user.name}}</h1>
    <p class="legend">"{{user.description}}"</p>
    <div class="image float-left">
      <img ng-src="{{user.image}}" alt="{{user.name}}" class="img-thumbnail">
    </div>
    <div class="info">
      <div class="rating">
        <stars number="{{user.rating}}"></stars>&nbsp;{{'averageRating'|translate}}:&nbsp; {{user.rating|number:2}}&nbsp;{{'of'|translate}}&nbsp;{{5|number:2}}
      </div>
      <div class="location">
        <strong>{{'location'|translate}}</strong>:&nbsp;{{user.location}}
      </div>
      <div class="events-number" ng-if="user.type == 0">
        <strong>{{'#events'|translate}}</strong>:&nbsp;{{user.events.length}}
      </div>
      <div class="sponzorships-number" ng-if="user.type == 0">
        <strong>{{'#sponzorships'|translate}}</strong>:&nbsp;{{user.sponzorships_like_organizer.length}}
      </div>
      <div class="sponzorships-number" ng-if="user.type == 1">
        <strong>{{'#sponzorships'|translate}}</strong>:&nbsp;{{user.sponzorships.length}}
      </div>
      <div class="registered-from">
        <strong>{{'memberSince'|translate}}</strong>:&nbsp;{{user.created_at | date:'medium'}}
      </div>
    </div>
    <div class="ratings">
      <h2>{{'ratingsInProfile'|translate}} ({{ratings.length}})</h2>
      <table ng-if="user.type==0">
        <thead>
          <th>
            {{'Sponzor'|translate}}
          </th>
          <th>
            {{'EventPerk'|translate}}
          </th>
          <th>
            {{'Date'|translate}}
          </th>
          <th>
            {{'rating'|translate}}
          </th>
        </thead>
        <tr ng-repeat-start="r in ratings">
          <td>
            <a href="#/profile/{{r.sponzor_id}}">{{r.sponzorName}}</a>
          </td>
          <td>
            {{r.eventTitle}} - {{r.perkKind}}
          </td>
          <td>
            {{r.created_at|date:'medium'}}
          </td>
          <td>
            <stars number="{{r.question0}}"></stars>
          </td>
        </tr>
        <tr ng-repeat-end class="graysealy">
          <td colspan="4">
            <span class="italic">"{{r.question10}}"</span>
          </td>
        </tr>
      </table>
      <table ng-if="user.type==1">
        <thead>
          <th>
            {{'Organizer'|translate}}
          </th>
          <th>
            {{'EventPerk'|translate}}
          </th>
          <th>
            {{'Date'|translate}}
          </th>
          <th>
            {{'Rate'|translate}}
          </th>
        </thead>
        <tr ng-repeat-start="r in ratings">
          <td>
            <a href="#/profile/{{r.organizer_id}}">{{r.organizerName}}</a>
          </td>
          <td>
            {{r.eventTitle}} - {{r.perkKind}}
          </td>
          <td>
            {{r.created_at|date:'medium'}}
          </td>
          <td>
            <stars number="{{r.question0}}"></stars>
          </td>
        </tr>
        <tr ng-repeat-end class="graysealy">
          <td colspan="4">
            <span class="italic">"{{r.question6}}"</span>
          </td>
        </tr>
      </table>

    </div>
  </div>
  <div class="footer white-background navbar-fixed-bottom" ng-include src="'views/footer.html'"></div>
</section>