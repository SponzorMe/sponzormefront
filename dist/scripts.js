!function(){"use strict";angular.module("sponzorme",["pascalprecht.translate","ngResource","ngRoute","base64","ngCookies","ngStorage","google.places","angularSpinner","angularUtils.directives.dirPagination","firebase","angular-input-stars","ngMaterial","ngAria","ngAnimate","ngMessages","ngWig","ngSanitize","720kb.socialshare"])}();
!function(){"use strict";angular.module("sponzorme").constant("DEFAULTLANG","en").constant("DEMOSTEPS",4).constant("MAXPERKLIMIT",70).constant("MAXAGE",100).constant("MINAGE",16).constant("SPONZORSHIPSTATUSES",["pending","accepted","save","paid","payment in process"]).constant("EXPIRATIONTIME",1)}();
!function(){"use strict";angular.module("sponzorme").config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"langs/lang-",suffix:".json"}),e.useSanitizeValueStrategy("escaped"),e.preferredLanguage("en"),e.fallbackLanguage("en")}]).config(["$localStorageProvider",function(e){e.setKeyPrefix("QkeMJxG7-")}])}();
!function(){"use strict";angular.module("sponzorme").config(["$routeProvider",function(e){e.when("",{templateUrl:"login/login.html",controller:"LoginController",controllerAs:"lc"}).when("/",{templateUrl:"login/login.html",controller:"LoginController",controllerAs:"lc"}).when("/login",{templateUrl:"login/login.html",controller:"LoginController",controllerAs:"lc"}).when("/logout",{templateUrl:"login/login.html",controller:"LogoutController",controllerAs:"lc"}).when("/sign-up/sponsor",{templateUrl:"sponzors-create/create.html",controller:"SponzorsCreateController",controllerAs:"scc"}).when("/sign-up/organizer",{templateUrl:"organizers-create/create.html",controller:"OrganizersCreateController",controllerAs:"occ"}).when("/activation/:token",{templateUrl:"login/login.html",controller:"ActivationController",controllerAs:"ac"}).when("/forgot",{templateUrl:"forgot/forgot.html",controller:"ForgotController",controllerAs:"fc"}).when("/reset/:tokenReset",{templateUrl:"forgot/reset.html",controller:"ForgotController",controllerAs:"fc"}).when("/event/:eventId",{templateUrl:"event-landing/landing.html",controller:"LandingController",controllerAs:"lc",resolve:{event:["$route","eventRequest","$log","$location",function(e,r,o,t){return r.oneEvent(e.current.params.eventId).then(function(e){return e.data.event},function(e){o.error(e),t.path("#/login")})}]}}).when("/sponzors/dashboard",{templateUrl:"sponzors-main/main.html",controller:"SponzorsEventMainController",controllerAs:"semc"}).when("/sponzors/outstanding",{templateUrl:"sponzors-outstanding/outstanding.html",controller:"SponzorsEventMainController",controllerAs:"semc"}).when("/sponzors/saved",{templateUrl:"sponzors-saved/saved.html",controller:"SponzorsEventMainController",controllerAs:"semc"}).when("/sponzors/settings/profile",{templateUrl:"sponzors-settings/profile.html",controller:"SponzorsProfileController",controllerAs:"spc"}).when("/sponzors/settings/preferences",{templateUrl:"sponzors-settings/preferences.html",controller:"SponzorsPreferencesController",controllerAs:"spc"}).when("/sponzors/settings/ratings",{templateUrl:"sponzors-settings/ratings.html",controller:"SponzorsRatingsController",controllerAs:"src"}).when("/sponzors/sponzoring",{templateUrl:"sponzors-sponzoring/sponzorships.html",controller:"SponzorsSponzorshipsController",controllerAs:"ssc"}).when("/sponzors/sponzoring/:id",{templateUrl:"sponzors-sponzoring/sponzorshipsId.html",controller:"SponzorsSponzorshipsController",controllerAs:"ssc"}).when("/sponzors/tasks",{templateUrl:"sponzors-tasks/tasks.html",controller:"SponzorsTasksController",controllerAs:"stc"}).when("/sponzors/task/:id",{templateUrl:"sponzors-tasks/taskId.html",controller:"SponzorsTasksController",controllerAs:"stc"}).when("/sponzors/tasks/create",{templateUrl:"sponzors-tasks/tasks_create.html",controller:"SponzorsCreateTasksController",controllerAs:"sctc"}).when("/sponzors/notifications",{templateUrl:"sponzors-notifications/notifications.html",controller:"SponzorsNotificationsController",controllerAs:"snc"}).when("/sponzors/notifications/importants",{templateUrl:"sponzors-notifications/importants.html",controller:"SponzorsNotificationsController",controllerAs:"snc"}).when("/sponzors/notifications/readed",{templateUrl:"sponzors-notifications/readed.html",controller:"SponzorsNotificationsController",controllerAs:"snc"}).when("/sponzors/notification/:id",{templateUrl:"sponzors-notifications/detail.html",controller:"SponzorsNotificationsController",controllerAs:"snc"}).when("/sponzors/event/:eventId",{templateUrl:"sponzors-event/event.html",controller:"SponzorsEventController",controllerAs:"sec"}).when("/sponzors/invite",{templateUrl:"sponzors-invite/invite.html",controller:"SponzorsInviteController",controllerAs:"sic"}).when("/sponzors/chat/sponzorship/:sponzorshipId",{templateUrl:"sponzors-chat/chat.html",controller:"SponzorsChatController",controllerAs:"scc"}).when("/sponzors/rate/sponzorship/:sponzorshipId",{templateUrl:"sponzors-rate/rate-form.html",controller:"SponzorsRateController",controllerAs:"src"}).when("/organizers/dashboard",{templateUrl:"organizers-main/main.html",controller:"OrganizersMainController",controllerAs:"omc"}).when("/organizers/sponzors",{templateUrl:"organizers-sponzors/sponzors.html",controller:"OrganizersSponzorsController",controllerAs:"osc"}).when("/organizers/balance",{templateUrl:"organizers-balance/balance.html",controller:"OrganizersBalanceController",controllerAs:"obc"}).when("/organizers/event/record",{templateUrl:"organizers-main/record.html",controller:"OrganizersMainController",controllerAs:"omc"}).when("/organizers/news",{templateUrl:"organizers-news/news.html",controller:"OrganizersNewsController",controllerAs:"onc"}).when("/organizers/notifications",{templateUrl:"organizers-notifications/notifications.html",controller:"OrganizersNotificationsController",controllerAs:"onc"}).when("/organizers/notifications/importants",{templateUrl:"organizers-notifications/importants.html",controller:"OrganizersNotificationsController",controllerAs:"onc"}).when("/organizers/notifications/readed",{templateUrl:"organizers-notifications/readed.html",controller:"OrganizersNotificationsController",controllerAs:"onc"}).when("/organizers/notification/:id",{templateUrl:"organizers-notifications/detail.html",controller:"OrganizersNotificationsController",controllerAs:"onc"}).when("/organizers/settings/profile",{templateUrl:"organizers-settings/profile.html",controller:"OrganizersProfileController",controllerAs:"opc"}).when("/organizers/settings/preferences",{templateUrl:"organizers-settings/preferences.html",controller:"OrganizersPreferencesController",controllerAs:"opc"}).when("/organizers/settings/rate",{templateUrl:"organizers-settings/rate.html",controller:"OrganizersRateController",controllerAs:"orc"}).when("/organizers/tasks",{templateUrl:"organizers-tasks/tasks.html",controller:"OrganizersTasksController",controllerAs:"otc"}).when("/organizers/task/:id",{templateUrl:"organizers-tasks/taskId.html",controller:"OrganizersTasksController",controllerAs:"otc"}).when("/organizers/tasks/create",{templateUrl:"organizers-tasks/tasks_create.html",controller:"OrganizersCreateTasksController",controllerAs:"octc"}).when("/organizers/event/:eventId",{templateUrl:"organizers-event-edit/edit.html",controller:"OrganizersEventEditController",controllerAs:"oeec",resolve:{eventTypes:["eventTypeRequest","$localStorage","$log",function(e,r,o){return r.eventTypes?JSON.parse(r.eventTypes):e.allEventTypes().then(function(e){return r.eventTypes=JSON.stringify(e.data.eventTypes),e.data.eventTypes},function(e){return o.error(e),[]})}],categories:["categoryRequest","$localStorage","$log",function(e,r,o){return r.categories?JSON.parse(r.categories):e.allCategories().then(function(e){return r.categories=JSON.stringify(e.data.categories),e.data.categories},function(e){return o.error(e),[]})}]}}).when("/organizers/add/event",{templateUrl:"organizers-event-add/add.html",controller:"OrganizersEventAddController",controllerAs:"oeac",resolve:{eventTypes:["eventTypeRequest","$localStorage","$log",function(e,r,o){return r.eventTypes?JSON.parse(r.eventTypes):e.allEventTypes().then(function(e){return r.eventTypes=JSON.stringify(e.data.eventTypes),e.data.eventTypes},function(e){return o.error(e),[]})}],categories:["categoryRequest","$localStorage","$log",function(e,r,o){return r.categories?JSON.parse(r.categories):e.allCategories().then(function(e){return r.categories=JSON.stringify(e.data.categories),e.data.categories},function(e){return o.error(e),[]})}]}}).when("/eventbrite/:eventBriteCode",{templateUrl:"organizers-event-add/add.html",controller:"OrganizersEventAddController",controllerAs:"oeac",resolve:{eventTypes:["eventTypeRequest","$localStorage","$log",function(e,r,o){return r.eventTypes?JSON.parse(r.eventTypes):e.allEventTypes().then(function(e){return r.eventTypes=JSON.stringify(e.data.eventTypes),e.data.eventTypes},function(e){return o.error(e),[]})}],categories:["categoryRequest","$localStorage","$log",function(e,r,o){return r.categories?JSON.parse(r.categories):e.allCategories().then(function(e){return r.categories=JSON.stringify(e.data.categories),e.data.categories},function(e){return o.error(e),[]})}]}}).when("/meetup/:meetupCode",{templateUrl:"organizers-event-add/add.html",controller:"OrganizersEventAddController",controllerAs:"oeac",resolve:{eventTypes:["eventTypeRequest","$localStorage","$log",function(e,r,o){return r.eventTypes?JSON.parse(r.eventTypes):e.allEventTypes().then(function(e){return r.eventTypes=JSON.stringify(e.data.eventTypes),e.data.eventTypes},function(e){return o.error(e),[]})}],categories:["categoryRequest","$localStorage","$log",function(e,r,o){return r.categories?JSON.parse(r.categories):e.allCategories().then(function(e){return r.categories=JSON.stringify(e.data.categories),e.data.categories},function(e){return o.error(e),[]})}]}}).when("/organizers/sponzor/profile/:idSponsor",{templateUrl:"organizers-sponzor-profile/profile.html",controller:"OrganizersSponzorProfileController",controllerAs:"ospc"}).when("/organizers/chat/sponzorship/:sponzorshipId",{templateUrl:"organizers-chat/chat.html",controller:"OrganizersChatController",controllerAs:"occ"}).when("/organizers/sponsor/rating/:sponzorshipId",{templateUrl:"organizers-sponzor-rating/rating.html",controller:"OrganizersSponsorRatingController",controllerAs:"osrc"}).when("/organizers/event/tasks/:eventId",{templateUrl:"organizers-event-tasks/tasks.html",controller:"OrganizersEventTasksController",controllerAs:"oetc"}).when("/organizers/invite",{templateUrl:"organizers-invite/invite.html",controller:"OrganizersInviteController",controllerAs:"oic"}).otherwise({redirect:"/login"})}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}])}();
!function(){"use strict";angular.module("sponzorme").run(["$rootScope",function(E){E.getConstants=function(){var E=window.location.hostname;return E.indexOf("localhost")>-1?{URL:"https://apilocal.sponzor.me/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"http://apilocal.sponzor.me/ipn",PAYPALEMAIL:"bussines@sponzor.me",FURL:"https://sponzorme.firebaseio.com/localhost/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!0,EVENTBRITECLIENTSECRET:"QNC7CUESEQ67AA3WST4UWHFRAFNQ5J6RELHQVHBIPY2QCHY5DZ",EVENTBRITEAPYKEY:"BI5D6XQVDCIPGOKY4U",MEETUPAPIKEY:"9pfi8r66lr4da194pc1lvhclq7",MEETUPREDIRECTURL:"https://apilocal.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2",EVENTPAGESHARE:"http://localhost:9000/#/event/"}:E.indexOf("staging")>-1?{URL:"https://apistaging.sponzor.me/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"http://apistaging.sponzor.me/ipn",PAYPALEMAIL:"bussines@sponzor.me",FURL:"https://sponzorme.firebaseio.com/staging/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!0,EVENTBRITECLIENTSECRET:"REYYYTW7MW4ABJUI275V3JESPWRR55E5OLKTVC63VNXWFL4WLB",EVENTBRITEAPYKEY:"6WILTRRV7HVLBSRSGP",MEETUPAPIKEY:"scqnorvk4o3utc3k19qfj45vng",MEETUPREDIRECTURL:"https://apistaging.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2",EVENTPAGESHARE:"https://staging.sponzor.me/#/event/"}:E.indexOf("app")>-1?{URL:"https://api.sponzor.me/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"https://api.sponzor.me/ipn",PAYPALEMAIL:"ing.carlosandresrojas@gmail.com",FURL:"https://sponzorme.firebaseio.com/production/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!1,EVENTBRITECLIENTSECRET:"V72EKSC2YWR5Y4XKVKCUL4W45ZAAVXJSEG3KOBAFIVKR6ESIX5",EVENTBRITEAPYKEY:"MI3YNPLR3R73AD36YS",MEETUPAPIKEY:"lc876qakj5itnsnebm3dijus12",MEETUPREDIRECTURL:"https://api.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2",EVENTPAGESHARE:"https://app.sponzor.me/#/event/"}:void 0}}])}();
!function(){"use strict";function t(t,e,n,r,o,a,i){var u=window.location.href;if("http:"===window.location.protocol&&u.indexOf("localhost")<=-1){var c=u.replace("http:","https:");window.location.href=c}t.changeLanguage=function(t){e.use(t)},t.currentLanguage=function(){return e.use()},t.isExpiredData=function(){if(o.startDate){var t=new Date(o.startDate),e=parseInt(24*i*60*60*1e3),n=new Date(t.getTime()+e);return Date.now()>n.getTime()?(o.$reset(),!0):!1}return!0},t.getExtension=function(t){return/[.]/.exec(t)?/[^.]+$/.exec(t):void 0},t.uniqueString=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;8>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},t.userValidation=function(e){return u=window.location.href,t.isExpiredData(),o.email&&o.id>0&&o.token&&o.type===e&&o.user?(t.$storage=o,!0):(o.redirectTo=u,n.path("/login"),!1)}}angular.module("sponzorme").run(t),t.$inject=["$rootScope","$translate","$location","$filter","$localStorage","userRequest","EXPIRATIONTIME"]}();
!function(){"use strict";angular.module("sponzorme").directive("file",function(){return{restrict:"AE",scope:{file:"@"},link:function(i,e,r){e.bind("change",function(e){var r=e.target.files,n=r[0];i.file=n,i.$parent.file=n,i.$apply()})}}}).directive("filea",function(){return{restrict:"AE",scope:{file:"@"},link:function(i,e,r){e.bind("change",function(e){var r=e.target.files,n=r[0];i.file=n,i.$parent.file=n,i.$apply(),i.$parent.imageVerification()})}}}).directive("logo",function(){return{restrict:"AE",scope:{file:"@"},link:function(i,e,r){e.bind("change",function(e){var r=e.target.files,n=r[0];i.logo=n,i.$parent.logo=n,i.$apply()})}}}).directive("stars",function(){return{restrict:"E",template:"<div></div>",link:function(i,e,r){var n,t=Math.floor(r.number),a=r.number-Math.floor(r.number);n=5>t?'<i class="material-icons orange600 md-12">star_border</i>':"",a>.48&&(n='<i class="material-icons orange600 md-12">star_half</i>');for(var o="",l="",c=0;5-t-1>c;c++)o+='<i class="material-icons orange600 md-12">star_border</i>';for(c=0;t>c;c++)l+='<i class="material-icons orange600 md-12">star_rate</i>';e.html('<span class="stars2">'+l+n+o+"</span>")},replace:!0}})}();
!function(){"use strict";function t(t,e){return{allCategories:function(){return t.get(e.getConstants().URL+"categories")}}}angular.module("sponzorme").factory("categoryRequest",t),t.$inject=["$http","$rootScope"]}();
!function(){"use strict";function t(t,e,n,o){var r=e.token;return{allEvents:function(){return t.get(o.getConstants().URL+"events")},oneEvent:function(e){return t.get(o.getConstants().URL+"events/"+e)},saveEvent:function(e,n){return t.get(o.getConstants().URL+"events/save/"+e+"/"+n)},saveRemoveEvent:function(e){return t.get(o.getConstants().URL+"events/remove_saved/"+e)},createEvent:function(e){return t({method:"POST",url:o.getConstants().URL+"events",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},createEventToken:function(e,r){return t({method:"POST",url:o.getConstants().URL+"events",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},deleteEvent:function(e){return t({method:"DELETE",url:o.getConstants().URL+"events/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editEventPut:function(e,a){return t({method:"PUT",url:o.getConstants().URL+"events/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(a)})}}}angular.module("sponzorme").factory("eventRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function t(t,e){return{allEventTypes:function(){return t.get(e.getConstants().URL+"event_types")}}}angular.module("sponzorme").factory("eventTypeRequest",t),t.$inject=["$http","$rootScope"]}();
!function(){"use strict";function t(t,e){return{allInterestsCategoriesId:function(){return t.get(e.getConstants().URL+"interests_category")}}}angular.module("sponzorme").factory("allInterestsServiceRequest",t),t.$inject=["$http","$rootScope"]}();
!function(){"use strict";function t(t,e,n,a,o){function r(r){function i(t){return o.info("Authentication Complete"),t.data}function d(t){return o.error("Authentication Failed"),o.error(t.data),a.reject(t.data)}return t({method:"POST",url:n.getConstants().URL+"auth",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(r)}).then(i)["catch"](d)}return{authentication:r,login:function(a){var o={email:a.email,password:a.password};return t({method:"POST",url:n.getConstants().URL+"auth",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},resetPassword:function(a){var o={email:a};return t({method:"POST",url:n.getConstants().URL+"send_reset_password",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},tryActivation:function(e){return t.get(n.getConstants().URL+"verify_activation/"+e)},resendActivation:function(a){var o={email:a};return t({method:"POST",url:n.getConstants().URL+"send_activation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},updatePassword:function(a,o){return t({method:"POST",url:n.getConstants().URL+"update_password/"+a,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},changePassword:function(a,o){return t({method:"POST",url:n.getConstants().URL+"change_password",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:e(a)})}}}angular.module("sponzorme").factory("loginRequest",t),t.$inject=["$http","$httpParamSerializerJQLike","$rootScope","$q","$log"]}();
!function(){"use strict";function e(e,t,r,o){var n=t.token;return{createPerk:function(t){return e({method:"POST",url:o.getConstants().URL+"perks",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+n},data:r(t)})},deletePerk:function(t){return e({method:"DELETE",url:o.getConstants().URL+"perks/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+n}})}}}angular.module("sponzorme").factory("perkRequest",e),e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function t(t,e,r,o){var a=e.token;return{createPerkTask:function(e){return t({method:"POST",url:o.getConstants().URL+"perk_tasks",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a},data:r(e)})},deletePerkTask:function(e){return t({method:"DELETE",url:o.getConstants().URL+"perk_tasks/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a}})}}}angular.module("sponzorme").factory("perkTaskRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function o(o,t,n,e){var r=t.token;return{oneSponzorship:function(t){return o.get(e.getConstants().URL+"sponzorships/"+t)},createSponzorship:function(t){return o({method:"POST",url:e.getConstants().URL+"sponzorships",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(t)})},createSponzorshipToken:function(t,r){return o({method:"POST",url:e.getConstants().URL+"sponzorships",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(t)})},deleteSponzorship:function(t){return o({method:"DELETE",url:e.getConstants().URL+"sponzorships/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editSponzorshipPatch:function(t,i){return o({method:"PATCH",url:e.getConstants().URL+"sponzorships/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(i)})}}}angular.module("sponzorme").factory("sponzorshipRequest",o),o.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function t(t,o,e,n){var r=o.token;return{createTaskSponzor:function(o){return t({method:"POST",url:n.getConstants().URL+"task_sponzor",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:e(o)})},deleteTaskSponzor:function(o){return t({method:"DELETE",url:n.getConstants().URL+"task_sponzor/"+o,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editTaskSponzorPatch:function(o,a){return t({method:"PATCH",url:n.getConstants().URL+"task_sponzor/"+o,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:e(a)})}}}angular.module("sponzorme").factory("taskSponzorRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function e(e,t,r,n){var o=t.token;return{createUserInterest:function(t){return e({method:"POST",url:n.getConstants().URL+"user_interests",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(t)})},bulkUserInterest:function(t){return e({method:"PUT",url:n.getConstants().URL+"user_interests/1",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(t)})},deleteUserInterest:function(t){return e({method:"DELETE",url:n.getConstants().URL+"user_interests/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o}})}}}angular.module("sponzorme").factory("userInterestRequest",e),e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function t(t,e,n,o){return{oneUser:function(n){var r=e.token;return t.defaults.headers.common.Authorization="Basic "+r,t.get(o.getConstants().URL+"users/"+n)},home:function(n){var r=e.token;return t.defaults.headers.common.Authorization="Basic "+r,t.get(o.getConstants().URL+"home/"+n)},createUser:function(e){var r="b3JnYW5pemVyQHNwb256b3IubWU6c3Bvbnpvcm1l";return t({method:"POST",url:o.getConstants().URL+"users",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},editUserPatch:function(r,a){var i=e.token;return t({method:"PATCH",url:o.getConstants().URL+"users/"+r,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+i},data:n(a)})},invitedUser:function(r){var a=e.token;return t({method:"POST",url:o.getConstants().URL+"invite_friend/",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a},data:n(r)})}}}angular.module("sponzorme").factory("userRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function e(e){return{rss:function(o){var s="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=JSON_CALLBACK&q=http://blog"+o+".sponzor.me/feeds/posts/default";return e.jsonp(s)}}}angular.module("sponzorme").factory("rssRequest",e),e.$inject=["$http"]}();
!function(){"use strict";function t(t,n,r,e){var o=n.token;return{ratingsBySponzor:function(n){return t.get(e.getConstants().URL+"ratings/sponzor/"+n)},ratingsByOrganizer:function(n){return t.get(e.getConstants().URL+"ratings/organizer/"+n)},createRating:function(n){return t({method:"POST",url:e.getConstants().URL+"ratings",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(n)})}}}angular.module("sponzorme").factory("ratingRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function e(e,t,n,r){return{getEventbriteAuth:function(t){return e.get(r.getConstants().URL+"token/eventbrite/"+t)},getMeetupAuth:function(t){return e.get(r.getConstants().URL+"token/meetup/"+t)},getEventbriteEvents:function(t){var n={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t}};return e.get("https://www.eventbriteapi.com/v3/users/me/owned_events/?token="+t,n)},getMeetupGroups:function(t){return e.get(r.getConstants().URL+"events/meetup/"+t)},getEventbriteEvent:function(t,n){var r={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+n}};return e.get(t+"?token="+n,r)}}}angular.module("sponzorme").factory("eventbriteRequest",e),e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function t(t,o,n,a){var e=o.token;return{sendChatMailNotification:function(o){return t({method:"POST",url:a.getConstants().URL+"chat/notification",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+e},data:n(o)})}}}angular.module("sponzorme").factory("notificationRequest",t),t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"]}();
!function(){"use strict";function e(e){return{showLoading:function(){var o=angular.element(document.body);e.show({parent:o,templateUrl:"dialogs/loadingDialog.html"})},showDialog:function(o,a,l){function n(e,o,a,l,n){e.message=a,e.redirect=l,e.closeDialog=function(){o.hide(),o.cancel(),l&&n.path(l)}}var t=angular.element(document.body);if("error"===o)var i="dialogs/errorDialog.html";else if("success"===o)var i="dialogs/successDialog.html";e.show({parent:t,templateUrl:i,locals:{message:a,redirect:l},controller:n}),n.$inject=["$scope","$mdDialog","message","redirect","$location"]},closeLoading:function(){e.hide(),e.cancel()}}}angular.module("sponzorme").factory("dialogRequest",e),e.$inject=["$mdDialog"]}();
!function(){"use strict";function e(e,t){return{sendNotification:function(n,i){n.date=(new Date).getTime();var o=new Firebase(t.getConstants().FURL+"notifications/"+i),a=e(o);a.$add(n)}}}angular.module("sponzorme").factory("firebaseRequest",e),e.$inject=["$firebaseArray","$rootScope"]}();
!function(){"use strict";function e(e,t,s,n,a,r){if(s.id){e.help=s.help;var i=new Firebase(n.getConstants().FURL+"notifications/"+s.id);e.notifications=a(i),i.on("child_added",function(n){var a=n.val();s.lastUpdate<a.date&&a.to===s.id&&(s.help=!0,e.help=!0,t.home(s.id).then(function(e){if(console.log(e),s.lastUpdate=(new Date).getTime(),"1"!==s.type&&e.data.user.events.length&&(e.data.user.events=e.data.user.events.filter(function(e){return e.starts=e.starts.replace(" ","T"),e.starts=new Date(e.starts).getTime(),e})),"1"===s.type&&e.data.events.length){var t=e.data.events.filter(function(e){return e.starts=e.starts.replace(" ","T"),e.ends=e.ends.replace(" ","T"),e.starts=new Date(e.starts).getTime(),e.ends=new Date(e.ends).getTime(),e});s.events=JSON.stringify(t)}if("1"===s.type&&e.data.user.sponzorships.length&&(e.data.user.sponzorships=e.data.user.sponzorships.filter(function(e){return e.event.starts=e.event.starts.replace(" ","T"),e.event.starts=new Date(e.event.starts).getTime(),e})),"1"!==s.type&&e.data.eventTasks.length){var n=[];e.data.eventTasks.filter(function(e){return e.sponzorship.length?e.perks.filter(function(t){return t.sponzor_tasks.length?(n.push(e),e):void 0}):void 0}),e.data.user.eventTasks=n}s.user=JSON.stringify(e.data.user),s.$apply()}))})}}angular.module("sponzorme").controller("NotificationController",e),e.$inject=["$scope","userRequest","$localStorage","$rootScope","$firebaseArray","$log"]}();
!function(){"use strict";function e(e,o,a,s,i,t,n){if(a.userValidation("1")){var r=this;r.user=JSON.parse(o.user),r.saveEvent=function(e){var a=r.user.saved_events.filter(function(o){return o.event.id===e?o:void 0});a.length?t.showDialog("error","alreadySaved",!1):(t.showLoading(),s.saveEvent(e,o.id).then(function(e){r.user.saved_events.push(e.data.event),o.user=JSON.stringify(r.user),t.closeLoading(),i.path("/sponzors/saved")},function(e){t.closeLoading(),t.showDialog("error","invalidEvent",!1)}))},r.saveRemoveEvent=function(e,a){t.showLoading(),s.saveRemoveEvent(e).then(function(e){r.user.saved_events.splice(a,1),o.user=JSON.stringify(r.user),t.closeLoading(),t.showDialog("success","removeSuccessfully","/sponzors/dashboard")},function(e){t.closeLoading(),t.showDialog("error","invalidEvent",!1)})},r.share=function(e){function o(e,o,a,s){e.url=s.getConstants().EVENTPAGESHARE+a.id,e.eventTitle=a.title,e.closeDialog=function(){o.hide()}}var a=angular.element(document.body);n.show({parent:a,template:'<md-dialog aria-label="List dialog">  <md-dialog-content>  <h2 translate>eventPage.shareEvent</h2>    <div layout="row" layout-align="center center">      <a href="" socialshare socialshare-provider="facebook" socialshare-text="{{eventTitle}}" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-fb.svg"></a>      <a href="" socialshare socialshare-provider="twitter" socialshare-text="{{eventTitle}}" socialshare-hashtags="SponzorMe" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-twttr.svg"></a>      <a href="" socialshare socialshare-provider="google" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-g.svg"></a>    </div>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close Dialog    </md-button>  </md-dialog-actions></md-dialog>',locals:{event:e},controller:o}),o.$inject=["$scope","$mdDialog","event","$rootScope"]}}}angular.module("sponzorme").controller("SponzorsEventMainController",e),e.$inject=["$scope","$localStorage","$rootScope","eventRequest","$location","dialogRequest","$mdDialog"]}();
!function(){"use strict";function e(e,t,n,r,i){if(n.userValidation("1")){var s=this;s.events=[],s.filter=[],s.user=JSON.parse(t.user);var o;s.filterEvents=function(){s.events=[],s.events=o.filter(function(e){for(var t=0;t<s.filter.length;t++)if(e.title.indexOf(s.filter[t])>-1||e.description.indexOf(s.filter[t])>-1)return e})},s.filterEventsByText=function(){s.events=[];var e=new RegExp(s.search,"i");s.events=o.filter(function(t){return t.title.search(e)>-1||t.description.search(e)>-1?t:void 0})},s.goEvent=function(e){i.path("/sponzors/event/"+e)},s.filterClick=function(e){s.filter.push(e),s.filterEvents()},s.filterRemove=function(){s.filter.length?s.filterEvents():s.restoreEvents()},s.restoreEvents=function(){s.events=[],t.events&&(o=JSON.parse(t.events),s.events=JSON.parse(t.events))},s.restoreEvents()}}angular.module("sponzorme").controller("SponzorsMainController",e),e.$inject=["$scope","$localStorage","$rootScope","dialogRequest","$location"]}();
function eventMenu(){function e(e,n,t){e.active=t.active,"save"===e.active&&(e.inSave=!0),e.openMenu=function(n,t){e.originatorEv=t,n(t)}}var n={link:e,templateUrl:"sponzors-main/event-menu.html",restrict:"EA"};return n}angular.module("sponzorme").directive("eventMenu",eventMenu);
function eventItem(){function e(e,t,n){e.active=n.active}var t={link:e,templateUrl:"sponzors-main/event-item.html",restrict:"EA"};return t}angular.module("sponzorme").directive("eventItem",eventItem);
function navbarEvents(){function n(n,e,t){n.active=t.active,n.openSidenavLeft=function(){$mdSidenav("left").toggle()},n.isOpenLeft=function(){var n=!0;return n=$mdSidenav("left").isOpen()},n.openMenu=function(e,t){n.originatorEv=t,e(t)}}var e={link:n,templateUrl:"sponzors-main/navbar.html",restrict:"EA"};return e}angular.module("sponzorme").directive("navbarEvents",navbarEvents);
function sponzorsNavbar(){function r(r,a,n){}var a={link:r,templateUrl:"sponzors-navbar/navbar-icons.html",restrict:"EA",replace:!0};return a}angular.module("sponzorme").directive("sponzorsNavbar",sponzorsNavbar);
!function(){"use strict";function e(e,t,n){if(n.userValidation("1")){var o=this;o.restoreEvents=function(){if(o.events=[],t.events){var e=JSON.parse(t.events);o.events=e.filter(function(e){return"1"===e.outstanding?e:void 0})}},o.restoreEvents()}}angular.module("sponzorme").controller("SponzorsOutstandingController",e),e.$inject=["$scope","$localStorage","$rootScope"]}();
!function(){"use strict";function e(e,o,n){if(n.userValidation("1")){var t=this;t.user=JSON.parse(o.user),t.events=[],t.user.saved_events.filter(function(e){e.event.saved_id=e.id,t.events.push(e.event)})}}angular.module("sponzorme").controller("SponzorsSavedController",e),e.$inject=["$scope","$localStorage","$rootScope"]}();
!function(){"use strict";function e(e,t,n,s,r,i,o){if(s.userValidation("1")){var u=this;u.user=JSON.parse(n.user),u.getAllInterests=function(){i.allInterestsCategoriesId().then(function(e){u.interests=e.data.InterestCategory},function(e){u.noInterestsLoaded=!0})},u.file=!1,u.updateDetails=function(){if(o.showLoading(),u.file){AWS.config.update({accessKeyId:s.getConstants().AMAZONKEY,secretAccessKey:s.getConstants().AMAZONSECRET}),AWS.config.region=s.getConstants().AMAZONBUCKETREGION;var r=new AWS.S3({params:{Bucket:s.getConstants().AMAZONBUCKET}}),i=btoa(s.uniqueString()+(new Date).getTime()+s.uniqueString()).replace("=",s.uniqueString())+"."+s.getExtension(u.file.name),c={Key:i,ContentType:u.file.type,Body:u.file,ServerSideEncryption:"AES256"};r.putObject(c,function(r,c){r||(u.user.logo=s.getConstants().AMAZONBUCKETURL+i,e.$digest(),t.editUserPatch(n.id,u.user).success(function(e){u.user=e.User,u.file=!1,o.closeLoading(),o.showDialog("success","dialog.accountInfoEditedSuccessfuly",!1)}).error(function(e){o.closeLoading(),o.showDialog("error","dialog.errorEditingAccountInfo",!1)}))})}else t.editUserPatch(n.id,u.user).then(function(e){n.user=JSON.stringify(u.user),u.file=!1,o.closeLoading(),o.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){o.closeLoading(),o.showDialog("error","errorEditingAccountInfo",!1)})},u.querySearch=function(e){return u.interests.filter(function(t){return t.name.indexOf(e)>-1?t:void 0})},u.removeUserInterest=function(e,t){u.user.interests.splice(e,1),r.deleteUserInterest(t).then(function(e){n.user=JSON.stringify(u.user)})},u.addUserInterests=function(e){if(e&&e.name){var t=!1;if(u.user.interests)for(var s=0;s<u.user.interests.length;s++)if(u.user.interests[s].interest_id===e.id_interest){t=!0;break}if(!t){var i={user_id:n.id,interest_id:e.id_interest};o.showLoading(),r.createUserInterest(i).then(function(e){u.user.interests.push(e.data.UserInterest),n.user=JSON.stringify(u.user),o.closeLoading()},function(e){o.closeLoading(),o.showDialog("error","invalidInterestSelection",!1)})}}else o.showDialog("error","invalidInterestSelection",!1)},u.getAllInterests(),u.newItem=""}}angular.module("sponzorme").controller("SponzorsPreferencesController",e),e.$inject=["$scope","userRequest","$localStorage","$rootScope","userInterestRequest","allInterestsServiceRequest","dialogRequest"]}();
!function(){"use strict";function e(e,o,n,t,s){if(t.userValidation("1")){var i=this;i.user=JSON.parse(n.user),e.file=!1,i.editAccount=function(){if(s.showLoading(),i.user.location!==i.locationUser&&(i.user.location=i.locationUser.formatted_address,i.user.location_reference=i.locationUser.place_id),e.file){AWS.config.update({accessKeyId:t.getConstants().AMAZONKEY,secretAccessKey:t.getConstants().AMAZONSECRET}),AWS.config.region=t.getConstants().AMAZONBUCKETREGION;var r=new AWS.S3({params:{Bucket:t.getConstants().AMAZONBUCKET}}),a=btoa(t.uniqueString()+(new Date).getTime()+t.uniqueString()).replace("=",t.uniqueString())+"."+t.getExtension(e.file.name),c={Key:a,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};r.putObject(c,function(r,c){if(!r){n.image=t.getConstants().AMAZONBUCKETURL+a,i.user.image=t.getConstants().AMAZONBUCKETURL+a,i.user.name=i.user.firstName+" "+i.user.lastName;var u={name:i.user.firstName+" "+i.user.lastName,image:n.image,company:i.user.company,email:i.user.email,location:i.user.location,location_reference:i.user.location_reference,phone:i.user.phone};o.editUserPatch(n.id,u).then(function(o){n.user=JSON.stringify(i.user),e.file=!1,s.closeLoading(),s.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(e){s.closeLoading(),s.showDialog("error","errorEditingAccountInfo",!1)})}})}else{({name:i.user.firstName+" "+i.user.lastName,image:n.image,company:i.user.company,email:i.user.email,location:i.user.location,location_reference:i.user.location_reference,phone:i.user.phone});o.editUserPatch(n.id,i.user).then(function(o){n.user=JSON.stringify(i.user),e.file=!1,s.closeLoading(),s.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(e){s.closeLoading(),s.showDialog("error","errorEditingAccountInfo",!1)})}}}}angular.module("sponzorme").controller("SponzorsProfileController",e),e.$inject=["$scope","userRequest","$localStorage","$rootScope","dialogRequest"]}();
!function(){"use strict";function o(o,r,e){if(e.userValidation("1")){var n=this;n.user=JSON.parse(r.user),n.ratings=[]}}angular.module("sponzorme").controller("SponzorsRatingsController",o),o.$inject=["$scope","$localStorage","$rootScope"]}();
function navbarSettings(){function n(n,t,e){n.active=e.active,n.openSidenavLeft=function(){$mdSidenav("left").toggle()},n.isOpenLeft=function(){var n=!0;return n=$mdSidenav("left").isOpen()},n.openMenu=function(t,e){n.originatorEv=e,t(e)}}var t={link:n,templateUrl:"sponzors-settings/navbar.html",restrict:"EA"};return t}angular.module("sponzorme").directive("navbarSettings",navbarSettings);
!function(){"use strict";function o(o,s,a,r,n){if(a.userValidation("1")){var e=this;e.user=JSON.parse(s.user),e.resetPassword=function(){e.password===e.passwordConfirmation?(n.showLoading(),e.formData={email:s.email,password:e.password,password_confirmation:e.passwordConfirmation},r.changePassword(e.formData,s.token).then(function(o){n.closeLoading(),s.token=btoa(s.email+":"+e.passwordConfirmation),n.showDialog("success","passwordChangedSuccesfully",!1),e.password="",e.passwordConfirmation=""},function(){n.closeLoading(),n.showDialog("error","invalidNewPassword",!1)})):n.showDialog("error","passwordNoMatch",!1)}}}angular.module("sponzorme").controller("SponzorsChangePasswordController",o),o.$inject=["$scope","$localStorage","$rootScope","loginRequest","dialogRequest"]}();
!function(){"use strict";function s(s,o,r,t,e,a,n){if(r.userValidation("1")){var i=this;i.user=JSON.parse(o.user),i.regenerateTasks=function(){i.tasks=[];for(var s=0;s<i.user.sponzorships.length;s++)for(var o=0;o<i.user.sponzorships[s].task_sponzor.length;o++){var r=i.user.sponzorships[s].task_sponzor[o];r.event=i.user.sponzorships[s].event,i.tasks.push(r)}},i.changeStatus=function(s){n.info(s),s.loading=!0;var r=s.status;"1"===s.status||1===s.status?s.status=0:s.status=1;var t={status:s.status};e.editTaskSponzorPatch(s.id,t).then(function(r){s.loading=!1,o.user=JSON.stringify(i.user),i.regenerateTasks()},function(){s.status=r,s.loading=!1,a.showDialog("error","errorUpdatingTaskStatus",!1)})},i.deleteTask=function(s){a.showLoading(),n.info(i.tasks[s].id),e.deleteTaskSponzor(i.tasks[s].id).then(function(r){for(var t,e,n=0;n<i.user.sponzorships.length;n++)for(var u=0;u<i.user.sponzorships[n].task_sponzor.length;u++)if(i.tasks[s].id===i.user.sponzorships[n].task_sponzor[u].id){t=n,e=u;break}i.user.sponzorships[t].task_sponzor.splice(e,1),o.user=JSON.stringify(i.user),a.closeLoading(),a.showDialog("success","taskDeletedSuccessfuly","/sponzors/tasks")},function(s){a.closeLoading(),a.showDialog("error","errorUpdatingTaskStatus",!1),n.error(s)})},i.regenerateTasks(),i.currentTaskIndex=t.id}}angular.module("sponzorme").controller("SponzorsTasksController",s),s.$inject=["$scope","$localStorage","$rootScope","$routeParams","taskSponzorRequest","dialogRequest","$log"]}();
!function(){"use strict";function s(s,o,e,r,i){if(r.userValidation("1")){var n=this;n.user=JSON.parse(o.user),n.addNextTask=function(s){if(n.sponzorshipsToAdd[s]>-1){var r=n.sponzorshipsToAdd[s];n.todo={type:1,status:0,perk_id:n.user.sponzorships[r].perk.id,event_id:n.user.sponzorships[r].event_id,sponzorship_id:n.user.sponzorships[r].id,user_id:o.id,organizer_id:n.user.sponzorships[r].organizer.id,sponzor_id:o.id,title:n.task.title,description:n.task.description},e.createTaskSponzor(n.todo).then(function(o){n.user.sponzorships[r].perk.tasks.push(o.data.PerkTask),n.user.sponzorships[r].task_sponzor.push(o.data.TaskSponzor),n.addNextTask(s+1)})}else i.closeLoading(),o.user=JSON.stringify(n.user),i.showDialog("success","taskAddedSuccessfuly","/sponzors/tasks")},n.addNewTask=function(){n.task.title&&n.task.description?(i.showLoading(),n.addNextTask(0)):i.showDialog("error","pleaseCompleteAllFields",!1)},n.changeSponzorship=function(s){n.sponzorshipsToAdd.indexOf(s)>-1?n.sponzorshipsToAdd.splice(n.sponzorshipsToAdd.indexOf(s)):n.sponzorshipsToAdd.push(s)},n.task={},n.sponzorshipsToAdd=[]}}angular.module("sponzorme").controller("SponzorsCreateTasksController",s),s.$inject=["$scope","$localStorage","taskSponzorRequest","$rootScope","dialogRequest"]}();
!function(){"use strict";function t(t,i,n,o,e,a,c,r){if(i.userValidation("1")){var f=this;n.help=!1,c.id?(f.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+c.id),f.currentNotification=e(f.notificationRef),f.currentNotification.$loaded(function(){f.currentNotification.read=!0,f.currentNotification.$save()})):(f.notificationsRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id),f.notifications=o(f.notificationsRef),f.notificationsRef.on("child_added",function(t){f.current=t.val(),n.lastUpdate<f.current.date&&a.home(n.id).then(function(t){n.lastUpdate=(new Date).getTime(),n.user=JSON.stringify(t.data.user)})})),f.markAsImportant=function(t){f.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+t),f.currentNotification=e(f.notificationRef),f.currentNotification.$loaded(function(){f.currentNotification.important=!0,f.currentNotification.$save()})},f["delete"]=function(t){f.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+t),f.currentNotification=e(f.notificationRef),f.currentNotification.$loaded(function(){f.currentNotification.$remove(),r.path("/sponzors/notifications")})}}}angular.module("sponzorme").controller("SponzorsNotificationsController",t),t.$inject=["$scope","$rootScope","$localStorage","$firebaseArray","$firebaseObject","userRequest","$routeParams","$location"]}();
function navbarNotifications(){function n(n,i,o){n.active=o.active}var i={link:n,controller:["$scope",function(n){n.openMenu=function(i,o){n.originatorEv=o,i(o)}}],templateUrl:"sponzors-notifications/navbar.html",restrict:"EA"};return i}angular.module("sponzorme").directive("navbarNotifications",navbarNotifications);
!function(){"use strict";function e(e,o,s,r,t,n,p,a){if(s.userValidation("1")){var l=this;l.todayDate=(new Date).getTime(),l.user=JSON.parse(o.user),l.statuses=r,t.id&&(l.currentSponzorship=l.user.sponzorships[t.id],l.currentSponzorship.event.ends=new Date(l.currentSponzorship.event.ends).getTime(),l.currentSponzorship.event.description=p.trustAsHtml(l.currentSponzorship.event.description),a.warn(l.currentSponzorship)),l.downloadCalendar=function(o){e.starts=new Date(o.event.starts).toISOString().replace(":","").replace("-","").replace(".",""),e.ends=new Date(o.event.ends).toISOString().replace(":","").replace("-","").replace(".",""),e.ends=e.ends.replace(":","").replace("-","").replace(".","").replace("000Z",""),e.starts=e.starts.replace(":","").replace("-","").replace(".","").replace("000Z",""),e.currentSponzorship=o,n.show({templateUrl:"sponzors-sponzoring/add-calendar.html",controller:"SponzorsSponzorshipsController",controllerAs:"ssc",scope:e,preserveScope:!0,clickOutsideToClose:!0})},l.doPayment=function(o){e.PAYPALCOMPLETERETURNURL=s.getConstants().PAYPALCOMPLETERETURNURL,e.PAYPALIPNRETURNURL=s.getConstants().PAYPALIPNRETURNURL,e.SANDBOX=s.getConstants().PAYPALSANDBOX,e.PAYPALEMAIL=s.getConstants().PAYPALEMAIL,e.sponzorship=o,e.paymentValue=o.perk.usd,e.fee=parseFloat(o.perk.usd*s.getConstants().FEE+s.getConstants().XOOMRATE),e.paymentTotal=parseFloat(o.perk.usd)+parseFloat(e.fee),n.show({templateUrl:"sponzors-sponzoring/payment-info.html",controller:"SponzorsSponzorshipsController",controllerAs:"ssc",scope:e,preserveScope:!0,clickOutsideToClose:!0})},l.seeCause=function(o){e.cause=o.cause,e.status=o.status,n.show({templateUrl:"sponzors-sponzoring/cause-dialog.html",controller:"SponzorsSponzorshipsController",controllerAs:"ssc",scope:e,preserveScope:!0,clickOutsideToClose:!0})}}}angular.module("sponzorme").controller("SponzorsSponzorshipsController",e),e.$inject=["$scope","$localStorage","$rootScope","SPONZORSHIPSTATUSES","$routeParams","$mdDialog","$sce","$log"]}();
!function(){"use strict";function n(n){function e(e){function o(n,e){return n&&n.length?t(n.replace(/\n/g,"\\n"),e):n}function t(n,e){return e||(e=75),!n||n.length<=e?n:n.substring(0,e).replace(/\n/g,"\\n")+"\r\n "+t(n.substring(e),75)}var r=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+o(n.currentSponzorship.event.description,62),"DTSTART:"+n.starts,"DTEND:"+n.ends,"LOCATION:"+o(n.currentSponzorship.event.location,64),"SUMMARY:"+o(n.currentSponzorship.event.title,66),"TRANSP:TRANSPARENT","END:VEVENT","END:VCALENDAR"];return r.join("\n")}function o(){var e="http://calendar.yahoo.com/?v=60&view=d&type=20";return e+="&title="+encodeURIComponent(n.currentSponzorship.event.title),e+="&st="+encodeURIComponent(n.starts)+"&et="+encodeURIComponent(n.ends),e+="&desc="+encodeURIComponent(n.currentSponzorship.event.description),e+="&in_loc="+encodeURIComponent(n.currentSponzorship.event.location)}function t(){var e="https://www.google.com/calendar/render?action=TEMPLATE";return e+="&text="+encodeURIComponent(n.currentSponzorship.event.title),e+="&dates="+encodeURIComponent(n.starts)+"/"+encodeURIComponent(n.ends),e+="&details="+encodeURIComponent(n.currentSponzorship.event.description),e+="&location="+encodeURIComponent(n.currentSponzorship.event.location)}function r(){var e="http://calendar.live.com/calendar/calendar.aspx?rru=addevent";return e+="&summary="+encodeURIComponent(n.currentSponzorship.event.title),e+="&dtstart="+encodeURIComponent(n.starts)+"&dtend="+encodeURIComponent(n.ends),e+="&description="+encodeURIComponent(n.currentSponzorship.event.description),e+="&location="+encodeURIComponent(n.currentSponzorship.event.location)}function c(){var o=n.currentSponzorship.event.title.replace(/[^\w ]+/g,"")+".ics";download(e(),o,"application/octet-stream")}n.currentSponzorship.event.description=n.currentSponzorship.event.description||"",n.calendarUrl={microsoft:r(),google:t(),yahoo:o(),icalendar:e(),dlIcal:c}}angular.module("sponzorme").controller("addCalendarController",n),n.$inject=["$scope"]}();
!function(){"use strict";function e(e,r,a,o,s,t,i,n,c,l,g,d,m){"en"!==t.lang&&"es"!==t.lang&&"pt"!==t.lang||r.use(t.lang),e.doCreate=function(){""!==e.create.password.trim()||""!==e.create.password_confirmation.trim()?e.create.password===e.create.password_confirmation&&e.create.password_confirmation.length>6?(d.showLoading(),e.create.lang=i.currentLanguage(),e.create.type=1,e.create.ionic_id="",e.create.name=e.create.firstname+" "+e.create.lastname,a.createUser(e.create).success(function(r){s.cookiesponzorme=btoa(e.create.email+":"+e.create.password),s.token=btoa(e.create.email+":"+e.create.password),s.typesponzorme=r.User.type,s.id=r.User.id,s.email=r.User.email,s.demo=r.User.demo,s.startDate=Date.now(),e.toggleCreateForm(),d.closeLoading()}).error(function(r){function a(e,r,a){e.errorMessages=a,e.closeDialog=function(){r.hide()}}"Not inserted"===r.message&&(e.errorMessages=[],r.error.email&&("The email has already been taken."===r.error.email[0]?(e.errorMessages.push("errorEmailAlreadyTaken"),e.didYouForgotPassword=!0):e.errorMessages.push("errorRegisterEmail")),r.error.name&&e.errorMessages.push("errorRegisterName"),r.error.lastname&&e.errorMessages.push("errorRegisterLastname"),r.error.password&&e.errorMessages.push("errorRegisterPassword")),d.closeLoading(),d.closeLoading();var o=angular.element(document.body);m.show({parent:o,template:'<md-dialog aria-label="dialog"><md-toolbar><div class="md-toolbar-tools top-info"><i class="material-icons md-48 md-light">info</i></div></md-toolbar><md-dialog-content><div layout="column" layout-align="center center"><h1 translate>dialog.error.title</h1><p ng-repeat="m in errorMessages">{{\'dialog.error.\'+m|translate}}</p></div></md-dialog-content><md-dialog-actions><md-button ng-click="closeDialog()" class="md-primary">{{"Ok"}}</md-button></md-dialog-actions></md-dialog>',locals:{errorMessages:e.errorMessages},controller:a}),a.$inject=["$scope","$mdDialog","errorMessages"]})):e.create.password_confirmation.length>6?d.showDialog("error","errorRegisterPasswordNoMatch",!1):d.showDialog("error","errorRegisterShortPassword",!1):d.showDialog("error","errorRegisterPasswordNoEmpty",!1)},e.doCustomization=function(){d.showLoading(),e.create.location_reference="Fake",e.create.image="https://s3-us-west-2.amazonaws.com/sponzormewebappimages/user_default.jpg",a.editUserPatch(s.id,e.create).success(function(e){d.showDialog("success","registerCompleted","/login"),d.closeLoading()});for(var r=[],o=0;o<e.create.interests.length;o++){var t={user_id:s.id,interest_id:e.create.interests[o]};r.push(t)}var i={interests:r};g.bulkUserInterest(i).then(function(){})},l.allCategories().then(function(r){e.categories=r.data.categories},function(){e.categories=[]}),e.pages={firstPage:"",secondPage:"",thirdPage:""},e.submitSucces=function(){return!1},e.create={date:new Date,image:"",success:!1,age:"",password:"",password_confirmation:""},e.firstPage=!0,e.toggleCreateForm=function(){e.firstPage===!0?e.firstPage=!1:e.firstPage=!0},e.ageRange=[];for(var u=n;c>u;u++)e.ageRange.push(u)}angular.module("sponzorme").controller("SponzorsCreateController",e),e.$inject=["$scope","$translate","userRequest","$location","$localStorage","$routeParams","$rootScope","MINAGE","MAXAGE","categoryRequest","userInterestRequest","dialogRequest","$mdDialog"]}();
!function(){"use strict";function e(e,i,o,n,s){if(o.userValidation("1")){var r=this;r.friend={email:"",message:"no-message",user_id:n.id},r.inviteFriend=function(){s.showLoading(),i.invitedUser(r.friend).then(function(e){s.closeLoading(),s.showDialog("success","inviteFiendEmailSent",!1),r.friend={email:"",message:"no-message",user_id:n.id}},function(e){s.closeLoading(),s.showDialog("error","problem",!1)})}}}angular.module("sponzorme").controller("SponzorsInviteController",e),e.$inject=["$scope","userRequest","$rootScope","$localStorage","dialogRequest"]}();
!function(){"use strict";function e(e,o,r,t,s,i,n,a,l,c){var u=this;u.events=JSON.parse(s.events),u.events.filter(function(e){e.id===r.eventId&&(u.currentEvent=e,u.currentEvent.perks=u.currentEvent.perks.filter(function(e){return e.show=!0,e}))}),u.currentEvent.description=l.trustAsHtml(u.currentEvent.description),u.formCreateSponzorship=function(r){e.newSponzorship={organizer_id:u.currentEvent.user_organizer.id,sponzor_id:s.id,event_id:u.currentEvent.id,perk_id:r.id,cause:"",status:0},o.show({templateUrl:"sponzors-event/create-sponzorship.html",controller:"SponzorsEventController",controllerAs:"sec",scope:e,clickOutsideToClose:!0})},u.share=function(e){function r(e,o,r,t){e.url=t.getConstants().EVENTPAGESHARE+r.id,e.eventTitle=r.title,e.closeDialog=function(){o.hide()}}var t=angular.element(document.body);o.show({parent:t,template:'<md-dialog aria-label="List dialog">  <md-dialog-content>  <h2 translate>eventPage.shareEvent</h2>    <div layout="row" layout-align="center center">      <a href="" socialshare socialshare-provider="facebook" socialshare-text="{{eventTitle}}" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-fb.svg"></a>      <a href="" socialshare socialshare-provider="twitter" socialshare-text="{{eventTitle}}" socialshare-hashtags="SponzorMe" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-twttr.svg"></a>      <a href="" socialshare socialshare-provider="google" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-g.svg"></a>    </div>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close Dialog    </md-button>  </md-dialog-actions></md-dialog>',locals:{event:e},controller:r}),r.$inject=["$scope","$mdDialog","event","$rootScope"]},u.createSponzorship=function(){a.closeLoading(),a.showLoading(),u.user=JSON.parse(s.user),u.user.sponzorships=u.user.sponzorships.filter(function(e){return"0"===e.status?e:void 0}),i.createSponzorship(e.newSponzorship).then(function(e){u.user.sponzorships.push(e.data.Sponzorship),s.user=JSON.stringify(u.user),u.firebaseNotification={to:u.currentEvent.user_organizer.id,text:t.instant("NOTIFICATIONS.NewSponzorshipRequestfor")+u.currentEvent.title,link:"#/organizers/sponzors"},c.sendNotification(u.firebaseNotification,u.currentEvent.user_organizer.id),a.closeLoading(),a.showDialog("success","sponzorshipCreatedSuccesfuly",!1)},function(e){a.closeLoading(),409===e.status?a.showDialog("error","alreadySponzoring",!1):a.showDialog("error","youCanNotSponzorThisEvent",!1)})}}angular.module("sponzorme").controller("SponzorsEventController",e),e.$inject=["$scope","$mdDialog","$routeParams","$translate","$localStorage","sponzorshipRequest","$rootScope","dialogRequest","$sce","firebaseRequest"]}();
!function(){"use strict";function e(e,a,o,s,n,t,r){if(t.userValidation("1")){var i=this;n.oneSponzorship(r.sponzorshipId).then(function(e){i.sponzorshipInfo=e.data.data,e.data.data.Organizer.id===o.id?i.newMessage={author:e.data.data.Organizer.name,type:"#5DDECF",sponzorshipId:r.sponzorshipId}:e.data.data.Sponzor.id===o.id?i.newMessage={author:e.data.data.Sponzor.name,type:"#F6CECE",sponzorshipId:r.sponzorshipId}:s.path("/login")});var d=new Firebase(t.getConstants().FURL+"chat"),p=d.orderByChild("sponzorshipId").equalTo(r.sponzorshipId);i.chatMessages=a(p),i.addMessage=function(){i.newMessage.text&&(i.newMessage.userImage=o.image,i.newMessage.timedate=(new Date).getTime(),i.chatMessages.$add(i.newMessage),i.newMessage.text="")}}}angular.module("sponzorme").controller("SponzorsChatController",e),e.$inject=["$scope","$firebaseArray","$localStorage","$location","sponzorshipRequest","$rootScope","$routeParams"]}();
!function(){"use strict";function o(o,i,n,r,s,t,e,a){if(n.userValidation("1")){var u=this;u.user=JSON.parse(i.user),u.saveRating=function(){e.showLoading(),u.rating.other&&(u.rating.question5="Other: "+u.rating.other),r.createRating(u.rating).then(function(o){u.user.sponzorships[s.sponzorshipId].ratings.push(o.data.Rating),u.user.sponzorships[s.sponzorshipId].rated_sponzor=!0,i.user=JSON.stringify(u.user);var n={to:o.data.Rating.organizer_id,text:t.instant("NOTIFICATIONS.OrganizerRated")+u.user.name,link:"#/profile/"+o.data.Rating.organizer_id};a.sendNotification(n,o.data.Rating.organizer_id),u.initForm(),e.closeLoading(),e.showDialog("success","organizerRateSuccesfuly","/sponzors/sponzoring")},function(o){e.closeLoading(),e.showDialog("error","invalidRate",!1)})},u.initForm=function(){u.rating={organizer_id:u.currentSponzorship.organizer.id,sponzor_id:i.id,sponzorship_id:u.currentSponzorship.id,type:1,question0:"",question1:"",question2:"",question3:"",question4:"",question5:"",question6:"",question7:"",question8:"",question9:"",question10:""}},s.sponzorshipId&&(u.currentSponzorship=u.user.sponzorships[s.sponzorshipId],u.initForm())}}angular.module("sponzorme").controller("SponzorsRateController",o),o.$inject=["$scope","$localStorage","$rootScope","ratingRequest","$routeParams","$translate","dialogRequest","firebaseRequest"]}();
!function(){"use strict";function e(e,o,t,a,i,n,r,s){if(a.userValidation("0")){var l=this;l.filterClick=function(e){l.filter.push(e)},l.openSidenavLeft=function(){$mdSidenav("left").toggle()},l.isOpenLeft=function(){var e=!0;return e=$mdSidenav("left").isOpen()},l.openMenu=function(e,o){l.originatorEv=o,e(o)},l.shareEvent=function(e){},l.hasSponzorship=function(e){for(var o=0;o<l.user.sponzorships_like_organizer.length;o++)if(l.user.sponzorships_like_organizer[o].event.id===e)return!0;return!1},l.deleteEvent=function(e){n.showLoading(),l.hasSponzorship(e)?(n.closeLoading(),n.showDialog("error","eventDeletingEventHasSponzorship",!1)):r.deleteEvent(e).then(function(o){var a=l.user.events.filter(function(o){return o.id!==e?o:void 0});l.user.events=[],l.user.events=a,t.user=JSON.stringify(l.user),n.closeLoading(),n.showDialog("success","eventDeleteSuccesfully",!1)},function(e){n.closeLoading(),n.showDialog("error","errorDeletingEvent",!1)})},l.toEdit=function(e){i.path("/organizers/event/"+e)},l.share=function(e){function o(e,o,t,a){e.url=a.getConstants().EVENTPAGESHARE+t.id,e.eventTitle=t.title,e.closeDialog=function(){o.hide()}}var t=angular.element(document.body);s.show({parent:t,template:'<md-dialog aria-label="List dialog">  <md-dialog-content>  <h2 translate>eventPage.shareEvent</h2>    <div layout="row" layout-align="center center">      <a href="" socialshare socialshare-provider="facebook" socialshare-text="{{eventTitle}}" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-fb.svg"></a>      <a href="" socialshare socialshare-provider="twitter" socialshare-text="{{eventTitle}}" socialshare-hashtags="SponzorMe" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-twttr.svg"></a>      <a href="" socialshare socialshare-provider="google" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-g.svg"></a>    </div>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close Dialog    </md-button>  </md-dialog-actions></md-dialog>',locals:{event:e},controller:o}),o.$inject=["$scope","$mdDialog","event","$rootScope"]},l.todayDate=(new Date).getTime(),l.user=JSON.parse(t.user),l.user.balance=0,angular.forEach(l.user.sponzorships_like_organizer,function(e){"1"===e.status&&(l.user.balance=parseInt(l.user.balance)+parseInt(e.perk.usd))})}}angular.module("sponzorme").controller("OrganizersMainController",e),e.$inject=["$scope","$translate","$localStorage","$rootScope","$location","dialogRequest","eventRequest","$mdDialog"]}();
!function(){function a(){function a(a,e,i){a.active=i.active}var e={link:a,template:'<div class="menuItemContainer" layout="row"><div class="menuItem">  <a href="#/organizers/dashboard" ng-class="{\'textActive\': active == \'dashboard\'}"md-ink-ripple translate>organizersMain.events</a>  <div class="border" ng-class="{\'active\': active == \'dashboard\'}"></div></div><div class="menuItem">  <a href="#/organizers/sponzors" ng-class="{\'textActive\': active == \'sponzors\'}"md-ink-ripple translate>organizersMain.sponsors</a>  <div class="border"  ng-class="{\'active\': active == \'sponzors\'}"></div></div><div class="menuItem">  <a href="#/organizers/balance" ng-class="{\'textActive\': active == \'balance\'}" md-ink-ripple translate>organizersMain.balance</a>  <div class="border"  ng-class="{\'active\': active == \'balance\'}"></div></div></div>',restrict:"EA",replace:!0};return e}angular.module("sponzorme").directive("headNav",a)}();
!function(){function n(){function n(n,e,t){}var e={link:n,template:'<div class="menuXsContainer"><md-menu hide-gt-sm>  <md-button class="md-fab" aria-label="b" ng-click="openMenu($mdOpenMenu, $event)">    <md-icon>person</md-icon>  </md-button>  <md-menu-content class="menuXsItems" width="2" layout="column" layout-align="center start">    <md-menu-item class="menuXsItem active">      <a href="#/organizers/dashboard" md-ink-ripple translate>sponzorsMain.searchEvents</a>    </md-menu-item>    <md-menu-item class="menuXsItem">      <a href="#/organizers/outstanding" md-ink-rippletranslate>sponzorsMain.highlightEvents</a>    </md-menu-item>    <md-menu-item class="menuXsItem">      <a href="#/organizers/notifications" md-ink-rippletranslate>sponzorsMain.notifications</a>    </md-menu-item>  </md-menu-content></md-menu></div>',restrict:"EA",replace:!0};return e}angular.module("sponzorme").directive("responsiveNav",n)}();
!function(){function e(){function e(e,n,r){}var n={link:e,templateUrl:"organizers-main/event-body.html",restrict:"EA",replace:!0};return n}angular.module("sponzorme").directive("organizerEventBody",e)}();
!function(){function i(){function i(i,a,o){}var a={link:i,template:'<div class="buttons" layout="row" layout-align="start center"><a ng-controller="NotificationController" href="#organizers/notifications">  <md-icon aria-label="b" ng-if="!help">notifications</md-icon>  <md-icon aria-label="b" class="color-fuchsia" ng-if="help">notifications_active</md-icon></a><a href="#/organizers/invite" class="md-icon-button">  <md-icon aria-label="b">favorite</md-icon></a><a href="#/logout" class="md-icon-button">  <md-icon aria-label="b">exit_to_app</md-icon></a></div>',restrict:"EA",replace:!0};return a}angular.module("sponzorme").directive("organizersNavbar",i)}();
!function(){"use strict";function o(o,r,n,s,i,e,t,p,a,z){if(e.userValidation("0")){var u=this;u.statuses=p,u.todayDate=(new Date).getTime(),u.user=JSON.parse(i.user),u.acceptSponzorship=function(o,n){u.user.sponzorships_like_organizer[n].loading=!0,u.currentSponzorshipId=o;var e={status:1};s.editSponzorshipPatch(o,e).then(function(o){u.user.sponzorships_like_organizer[n].task_sponzor=o.data.Sponzorship.task_sponzor,u.user.sponzorships_like_organizer[n].status=1,u.user.sponzorships_like_organizer[n].loading=!1,u.currentSponzorship=u.user.sponzorships_like_organizer[n],i.user=JSON.stringify(u.user),u.firebaseNotification={to:u.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipAproved")+u.currentSponzorship.event.title+" - "+u.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},z.sendNotification(u.firebaseNotification,u.currentSponzorship.sponzor.id)},function(){u.user.sponzorships_like_organizer[n].loading=!1,t.showDialog("error","problem",!1)})},u.unacceptSponzorship=function(o,n){u.currentSponzorshipId=o,u.user.sponzorships_like_organizer[n].loading=!0;var e={status:0};s.editSponzorshipPatch(o,e).then(function(o){u.user.sponzorships_like_organizer[n].status=0,u.user.sponzorships_like_organizer[n].task_sponzor=o.data.Sponzorship.task_sponzor,u.user.sponzorships_like_organizer[n].loading=!1,u.currentSponzorship=u.user.sponzorships_like_organizer[n],i.user=JSON.stringify(u.user),u.firebaseNotification={to:u.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipRejected")+u.currentSponzorship.event.title+" - "+u.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},z.sendNotification(u.firebaseNotification,u.currentSponzorship.sponzor.id)},function(o){u.user.sponzorships_like_organizer[n].loading=!1,t.showDialog("error","problem",!1)})},u.deleteSponzorship=function(o,n){t.showLoading(),u.currentSponzorship=u.user.sponzorships_like_organizer[n],s.deleteSponzorship(o).then(function(){u.firebaseNotification={to:u.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipDeleted")+u.currentSponzorship.event.title+" - "+u.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},z.sendNotification(u.firebaseNotification,u.currentSponzorship.sponzor.id),u.user.sponzorships_like_organizer.splice(n,1),i.user=JSON.stringify(u.user),u.getTasks(u.user.sponzorships_like_organizer[0]),t.closeLoading(),t.showDialog("success","successDeletingSponzorship",!1)},function(){t.closeLoading(),t.showDialog("error","errorDeletingSponzorship",!1)})},u.changeStatus=function(o,s){u.currentSponzorship.task_sponzor[o].loading=!0;var e=u.currentSponzorship.task_sponzor[o].id,p={status:s};n.editTaskSponzorPatch(e,p).then(function(n){u.currentSponzorship.task_sponzor[o].loading=!1,u.currentSponzorship.task_sponzor[o].status=s,u.firebaseNotification={to:u.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.TaskChanged1")+u.currentSponzorship.task_sponzor[o].task.title+r.instant("NOTIFICATIONS.TaskChanged2")+u.currentSponzorship.event.title+r.instant("NOTIFICATIONS.TaskChanged3"),link:"#/sponzors/sponzoring"},z.sendNotification(u.firebaseNotification,u.currentSponzorship.sponzor.id),i.user=JSON.stringify(u.user)},function(){u.currentSponzorship.task_sponzor[o].loading=!1,t.showDialog("error","errorUpdatingTaskStatus",!1)})},u.seeCause=function(o){a.show(a.alert().clickOutsideToClose(!0).title(r.instant("organizersSponzors.sponsorshipCause")).textContent(o.cause).ok("Ok!"))}}}angular.module("sponzorme").controller("OrganizersSponzorsController",o),o.$inject=["$scope","$translate","taskSponzorRequest","sponzorshipRequest","$localStorage","$rootScope","dialogRequest","SPONZORSHIPSTATUSES","$mdDialog","firebaseRequest"]}();
!function(){"use strict";function e(e,s,r,o){if(o.userValidation("0")){var n=this;n.openMenu=function(e,s){n.originatorEv=s,e(s)},n.user=JSON.parse(r.user);for(var i=0;i<n.user.events.length;i++){n.user.events[i].sponzorships=[],n.user.events[i].raised=0;for(var t=0;t<n.user.sponzorships_like_organizer.length;t++)n.user.events[i].id===n.user.sponzorships_like_organizer[t].event.id&&n.user.sponzorships_like_organizer[t].status>0&&(n.user.events[i].sponzorships.push(n.user.sponzorships_like_organizer[t]),n.user.events[i].raised+=parseFloat(n.user.sponzorships_like_organizer[t].perk.usd))}}}angular.module("sponzorme").controller("OrganizersBalanceController",e),e.$inject=["$scope","$translate","$localStorage","$rootScope"]}();
!function(){"use strict";function e(e,s,r,t){if(r.userValidation("0")){var n=this;n.rss=[],t.rss(r.currentLanguage()).then(function(e){n.rss=e.data.responseData.feed.entries,n.rss=n.rss.filter(function(e){return e.publishedDate=new Date(e.publishedDate).getTime(),e}),n.loadingrss=!1})}}angular.module("sponzorme").controller("OrganizersNewsController",e),e.$inject=["$scope","$localStorage","$rootScope","rssRequest"]}();
!function(){"use strict";function t(t,i,n,o,e,a,r,c,f){if(i.userValidation("0")){var s=this;n.help=!1,r.id?(s.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+r.id),s.currentNotification=e(s.notificationRef),s.currentNotification.$loaded(function(){s.currentNotification.read=!0,s.currentNotification.$save()})):(s.notificationsRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id),s.notifications=o(s.notificationsRef),s.notificationsRef.on("child_added",function(t){s.current=t.val(),n.lastUpdate<s.current.date&&a.home(n.id).then(function(t){n.lastUpdate=(new Date).getTime(),n.user=JSON.stringify(t.data.user)})})),s.markAsImportant=function(t){s.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+t),s.currentNotification=e(s.notificationRef),s.currentNotification.$loaded(function(){s.currentNotification.important=!0,s.currentNotification.$save()})},s["delete"]=function(t){s.notificationRef=new Firebase(i.getConstants().FURL+"notifications/"+n.id+"/"+t),s.currentNotification=e(s.notificationRef),s.currentNotification.$loaded(function(){s.currentNotification.$remove(),c.path("/organizers/notifications")})}}}angular.module("sponzorme").controller("OrganizersNotificationsController",t),t.$inject=["$scope","$rootScope","$localStorage","$firebaseArray","$firebaseObject","userRequest","$routeParams","$location","$translate"]}();
!function(){"use strict";function n(){function n(n,i,t){n.active=t.active}var t={link:n,controller:i,templateUrl:"organizers-notifications/navbar.html",restrict:"EA",replace:!0};return t}function i(n){n.openMenu=function(i,t){n.originatorEv=t,i(t)}}angular.module("sponzorme").directive("organizersNotificationsNavbar",n),i.$inject=["$scope"]}();
!function(){"use strict";function s(s,e,t,r){if(t.userValidation("0")){var a=this;a.user=JSON.parse(e.user),a.activePerk=function(s,e){for(var t=0;t<e.perks.length;t++)e.perks[t].active=!1;s.active=!0,a.showHeader=!0},a.user.eventTasks.length&&(a.user.eventTasks[0].show=!0),a.user.eventTasks.length&&a.user.eventTasks[0].perks.length&&a.user.eventTasks[0].perks[0].sponzor_tasks.length?a.activePerk(a.user.eventTasks[0].perks[0],a.user.eventTasks[0]):a.user.eventTasks.length&&a.user.eventTasks[0].perks.length&&a.user.eventTasks[0].perks[1].sponzor_tasks.length?a.activePerk(a.user.eventTasks[0].perks[1],a.user.eventTasks[0]):a.user.eventTasks.length&&a.user.eventTasks[0].perks.length&&a.user.eventTasks[0].perks[2].sponzor_tasks.length?a.activePerk(a.user.eventTasks[0].perks[2],a.user.eventTasks[0]):a.noTasks=!0,a.changeStatus=function(s){s.loading=!0;var t=s.status;"1"===s.status||1===s.status?s.status=0:s.status=1;var n={status:s.status};r.editTaskSponzorPatch(s.id,n).then(function(t){s.loading=!1,e.user=JSON.stringify(a.user)},function(){s.status=t,s.loading=!1,dialogRequest.showDialog("error","errorUpdatingTaskStatus",!1)})}}}angular.module("sponzorme").controller("OrganizersTasksController",s),s.$inject=["$scope","$localStorage","$rootScope","taskSponzorRequest"]}();
!function(){"use strict";function s(s,o,e,i,r){if(i.userValidation("0")){var d=this;d.user=JSON.parse(o.user),d.addNextTask=function(s){if(d.sponzorshipsToAdd[s]>-1){var i=d.sponzorshipsToAdd[s];d.todo={type:0,status:0,perk_id:d.user.sponzorships[i].perk.id,event_id:d.user.sponzorships[i].event_id,sponzorship_id:d.user.sponzorships[i].id,user_id:o.id,organizer_id:d.user.sponzorships[i].organizer.id,sponzor_id:o.id,title:d.task.title,description:d.task.description},e.createTaskSponzor(d.todo).then(function(o){d.user.sponzorships[i].perk.tasks.push(o.data.PerkTask),d.user.sponzorships[i].task_sponzor.push(o.data.TaskSponzor),d.addNextTask(s+1)})}else r.closeLoading(),o.user=JSON.stringify(d.user),r.showDialog("success","dialog.taskAddedSuccessfuly","/organizers/tasks")},d.addNewTask=function(){d.task.title&&d.task.description?(r.showLoading(),d.addNextTask(0)):r.showDialog("error","dialog.pleaseCompleteAllFields",!1)},d.changeSponzorship=function(s){d.sponzorshipsToAdd.indexOf(s)>-1?d.sponzorshipsToAdd.splice(d.sponzorshipsToAdd.indexOf(s)):d.sponzorshipsToAdd.push(s)},d.task={},d.sponzorshipsToAdd=[]}}angular.module("sponzorme").controller("OrganizersCreateTasksController",s),s.$inject=["$scope","$localStorage","taskSponzorRequest","$rootScope","dialogRequest"]}();
!function(){"use strict";function e(e,t,r,s,n,i,o,u,a){if(n.userValidation("0")){var l=this;l.user=JSON.parse(s.user),l.getAllInterests=function(){u.allInterestsCategoriesId().then(function(e){l.interests=e.data.InterestCategory},function(e){l.noInterestsLoaded=!0})},l.querySearch=function(e){return l.interests.filter(function(t){return t.name.indexOf(e)>-1?t:void 0})},l.removeUserInterest=function(e,t){l.user.interests.splice(e,1),o.deleteUserInterest(t).then(function(e){s.user=JSON.stringify(l.user)})},l.addUserInterests=function(e){if(e&&e.name){var t=!1;if(l.user.interests)for(var r=0;r<l.user.interests.length;r++)if(l.user.interests[r].interest_id===e.id_interest){t=!0;break}if(!t){var n={user_id:s.id,interest_id:e.id_interest};a.showLoading(),o.createUserInterest(n).then(function(e){l.user.interests.push(e.data.UserInterest),s.user=JSON.stringify(l.user),a.closeLoading()},function(e){a.closeLoading(),a.showDialog("error","invalidInterestSelection",!1)})}}else a.showDialog("error","invalidInterestSelection",!1)},l.getAllInterests(),l.newItem=""}}angular.module("sponzorme").controller("OrganizersPreferencesController",e),e.$inject=["$scope","$translate","userRequest","$localStorage","$rootScope","loginRequest","userInterestRequest","allInterestsServiceRequest","dialogRequest"]}();
!function(){"use strict";function r(r,o,e){if(e.userValidation("0")){var t=this;t.user=JSON.parse(o.user),t.ratings=[]}}angular.module("sponzorme").controller("OrganizersRateController",r),r.$inject=["$scope","$localStorage","$rootScope"]}();
!function(){"use strict";function e(e,o,n,t,s,r,i,a){if(s.userValidation("0")){var c=this;c.user=JSON.parse(t.user),e.file=!1,c.editAccount=function(){if(a.showLoading(),c.user.location!==c.locationUser&&(c.user.location=c.locationUser.formatted_address,c.user.location_reference=c.locationUser.place_id),e.file){AWS.config.update({accessKeyId:s.getConstants().AMAZONKEY,secretAccessKey:s.getConstants().AMAZONSECRET}),AWS.config.region=s.getConstants().AMAZONBUCKETREGION;var o=new AWS.S3({params:{Bucket:s.getConstants().AMAZONBUCKET}}),r=btoa(s.uniqueString()+(new Date).getTime()+s.uniqueString()).replace("=",s.uniqueString())+"."+s.getExtension(e.file.name),i={Key:r,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};o.putObject(i,function(o,i){if(!o){t.image=s.getConstants().AMAZONBUCKETURL+r,c.user.image=s.getConstants().AMAZONBUCKETURL+r,c.user.name=c.user.firstName+" "+c.user.lastName;var u={name:c.user.firstName+" "+c.user.lastName,image:t.image,company:c.user.company,email:c.user.email,location:c.user.location,location_reference:c.user.location_reference,phone:c.user.phone};n.editUserPatch(t.id,u).then(function(o){t.user=JSON.stringify(c.user),e.file=!1,a.closeLoading(),a.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(e){a.closeLoading(),a.showDialog("error","errorEditingAccountInfo",!1)})}})}else{var u={name:c.user.firstName+" "+c.user.lastName,image:t.image,company:c.user.company,email:c.user.email,location:c.user.location,location_reference:c.user.location_reference,phone:c.user.phone};n.editUserPatch(t.id,u).then(function(o){t.user=JSON.stringify(c.user),e.file=!1,a.closeLoading(),a.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(e){a.closeLoading(),a.showDialog("error","errorEditingAccountInfo",!1)})}}}}angular.module("sponzorme").controller("OrganizersProfileController",e),e.$inject=["$scope","$translate","userRequest","$localStorage","$rootScope","loginRequest","userInterestRequest","dialogRequest"]}();
!function(){"use strict";function o(o,s,a,r,i){if(a.userValidation("0")){var n=this;n.user=JSON.parse(s.user),n.resetPassword=function(){n.password===n.passwordConfirmation?(i.showLoading(),n.formData={email:s.email,password:n.password,password_confirmation:n.passwordConfirmation},r.changePassword(n.formData,s.token).then(function(o){i.closeLoading(),s.token=btoa(s.email+":"+n.passwordConfirmation),i.showDialog("success","dialog.passwordChangedSuccesfully",!1),n.password="",n.passwordConfirmation=""},function(){i.closeLoading(),i.showDialog("error","dialog.invalidNewPassword",!1)})):i.showDialog("error","dialog.passwordNoMatch",!1)}}}angular.module("sponzorme").controller("OrganizersChangePasswordController",o),o.$inject=["$scope","$localStorage","$rootScope","loginRequest","dialogRequest"]}();
!function(){"use strict";function e(){function e(e,i,r){e.active=r.active}var i={link:e,template:'<div class="menuItemContainer" layout="row"><div class="menuItem">  <a href="#/organizers/settings/profile" md-ink-ripple translate ng-class="{\'textActive\': active == \'profile\'}">preferences.profile</a>  <div class="border"  ng-class="{\'active\': active == \'profile\'}"></div></div><div class="menuItem">  <a href="#/organizers/settings/preferences" md-ink-ripple translate ng-class="{\'textActive\': active == \'preferences\'}">preferences.preferences</a>  <div class="border"  ng-class="{\'active\': active == \'preferences\'}"></div></div><div class="menuItem">  <a href="#/organizers/settings/rate" md-ink-ripple translate ng-class="{\'textActive\': active == \'rate \'}">preferences.ratings</a>  <div class="border"   ng-class="{\'active\': active == \'rate\'}"></div></div></div>',restrict:"EA",replace:!0};return i}angular.module("sponzorme").directive("settingsNav",e)}();
!function(){"use strict";function e(e,t,n,s,o,r,a,i,u,p,d){if(r.userValidation("0")){var v=this;v.hours=[];for(var c=0;24>c;c++){var l;l=10>c?"0"+c:c,v.hours.push({number:l+":00:00",text:l+":00:00"}),v.hours.push({number:l+":30:00",text:l+":30:00"})}v.years=[(new Date).getUTCFullYear()-1,(new Date).getUTCFullYear(),(new Date).getUTCFullYear()+1,(new Date).getUTCFullYear()+2],v.months=[{number:"01",text:"January"},{number:"02",text:"February"},{number:"03",text:"March"},{number:"04",text:"April"},{number:"05",text:"May"},{number:"06",text:"June"},{number:"07",text:"July"},{number:"08",text:"August"},{number:"09",text:"September"},{number:"10",text:"October"},{number:"11",text:"November"},{number:"12",text:"December"}],v.days=[];for(var c=1;31>=c;c++)v.days.push(c);v.event={sponzorshipTypes:[],lang:r.currentLanguage(),organizer:s.id},v.categories=d,v.eventTypes=p,v.showSponzorshipType=function(e){e.show=!e.show},v.editNewEvent=function(){function e(){u.showLoading(),v.event.location=v.locationEvent.formatted_address,v.event.location_reference=v.locationEvent.place_id,v.event.starts=v.event.startsAux.year+"-"+v.event.startsAux.month+"-"+v.event.startsAux.day+" "+v.event.startsAux.hour,v.event.ends=v.event.endsAux.year+"-"+v.event.endsAux.month+"-"+v.event.endsAux.day+" "+v.event.endsAux.hour,v.event.perks=v.event.sponzorshipTypes,v.event.organizer=s.id,o.editEventPut(v.event.id,v.event).then(function(e){e.data.event.starts=new Date(e.data.event.starts).getTime(),e.data.event.ends=new Date(e.data.event.ends).getTime();for(var t=0;t<v.user.events.length;t++)v.user.events[t].id===a.eventId&&(v.user.events[t]=e.data.event);s.user=JSON.stringify(v.user),u.closeLoading(),u.showDialog("success","eventEditedSuccesfully","/organizers/dashboard")},function(e){u.closeLoading(),u.showDialog("error","errorCreatingEvent",!1)})}v.event.startsAux2=new Date(v.event.startsAux.year+"-"+v.event.startsAux.month+"-"+v.event.startsAux.day+" "+v.event.startsAux.hour).getTime(),v.event.endsAux2=new Date(v.event.endsAux.year+"-"+v.event.endsAux.month+"-"+v.event.endsAux.day+" "+v.event.endsAux.hour).getTime();var t=!1;if(v.event.sponzorshipTypes.length)for(var n=0;n<v.event.sponzorshipTypes.length;n++)if(!v.event.sponzorshipTypes[n].tasks.length){t=!0;break}v.event.sponzorshipTypes.length?t?u.showDialog("error","sponsorshipTypeWithoutTasksText",!1):v.event.endsAux2<=v.event.startsAux2?u.showDialog("error","invalidDatesText",!1):e():u.showDialog("error","eventWithoutSponsorshipTypeText",!1)},e.file=!1,e.imageVerification=function(){if(e.file){v.creds={bucket:r.getConstants().AMAZONBUCKET,access_key:r.getConstants().AMAZONKEY,secret_key:r.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:v.creds.access_key,secretAccessKey:v.creds.secret_key}),AWS.config.region=r.getConstants().AMAZONBUCKETREGION;var t=new AWS.S3({params:{Bucket:v.creds.bucket}}),n=btoa(r.uniqueString()+(new Date).getTime()+r.uniqueString()).replace("=",r.uniqueString())+"."+r.getExtension(e.file.name),s={Key:n,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};u.showLoading(),t.putObject(s,function(e,t){e?u.closeLoading():(u.closeLoading(),v.event.image=r.getConstants().AMAZONBUCKETURL+n)})}},v.addSponzorshipTypeForm=function(){var e=angular.element(document.body);t.show({parent:e,clickOutsideToClose:!0,templateUrl:"organizers-event-add/sponzorshipTypeForm.html",controller:["$scope",function(e){e.addSponzorshipType=function(){v.event.sponzorshipTypes.push({kind:e.newSponzorshipType.kind,usd:e.newSponzorshipType.usd,total_quantity:e.newSponzorshipType.totalQuantity,reserved_quantity:0,id:"-1",tasks:[],show:!0}),t.hide()}}]})},v.addTaskForm=function(e){var n=angular.element(document.body);t.show({parent:n,clickOutsideToClose:!0,templateUrl:"organizers-event-add/taskForm.html",controller:["$scope",function(n){n.addTask=function(){e.tasks.push({title:n.newTask.title,description:n.newTask.title,id:"-1"}),t.hide()}}]})},v.removeTask=function(e,t){v.event.tasksToDelete.push(v.event.sponzorshipTypes[e].tasks[t].id),v.event.sponzorshipTypes[e].tasks.splice(t,1)},v.removeSponzorshipType=function(e){v.event.sponzorshipTypesToDelete.push(v.event.sponzorshipTypes[e].id);for(var t=0;t<v.event.sponzorshipTypes[e].tasks.length;t++)v.event.tasksToDelete.push(v.event.sponzorshipTypes[e].tasks[t].id);v.event.sponzorshipTypes.splice(e,1)},v.user=JSON.parse(s.user),v.event=v.user.events.filter(function(e){return e.id===a.eventId?e:void 0})[0],v.event.tasksToDelete=[],v.event.sponzorshipTypesToDelete=[];var g=new Date(v.event.starts),h=g.getMinutes()>9?g.getMinutes():"0"+g.getMinutes(),y=g.getSeconds()>9?g.getSeconds():"0"+g.getSeconds(),T=g.getHours()>9?g.getHours():"0"+g.getHours();v.event.startsAux={year:g.getUTCFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:T+":"+h+":"+y},v.event=v.user.events.filter(function(e){return e.id===a.eventId?e:void 0})[0];var m=new Date(v.event.ends),f=m.getMinutes()>9?m.getMinutes():"0"+m.getMinutes(),x=m.getSeconds()>9?m.getSeconds():"0"+m.getSeconds(),A=m.getHours()>9?m.getHours():"0"+m.getHours();v.event.endsAux={year:m.getUTCFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:A+":"+f+":"+x},v.event.sponzorshipTypes=v.event.perks,v.locationEvent={formatted_address:v.event.location,place_id:v.event.location_reference}}}angular.module("sponzorme").controller("OrganizersEventEditController",e),e.$inject=["$scope","$mdDialog","$translate","$localStorage","eventRequest","$rootScope","$routeParams","eventbriteRequest","dialogRequest","eventTypes","categories"]}();
!function(){"use strict";function e(e,t,n,o,r,s,a,i,u,c,p){function g(e){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}if(s.userValidation("0")){var v=this;v.hours=[];for(var d=0;24>d;d++){var l;l=10>d?"0"+d:d,v.hours.push({number:l+":00:00",text:l+":00:00"}),v.hours.push({number:l+":30:00",text:l+":30:00"})}v.years=[(new Date).getUTCFullYear()-1,(new Date).getUTCFullYear(),(new Date).getUTCFullYear()+1,(new Date).getUTCFullYear()+2],v.months=[{number:"01",text:"January"},{number:"02",text:"February"},{number:"03",text:"March"},{number:"04",text:"April"},{number:"05",text:"May"},{number:"06",text:"June"},{number:"07",text:"July"},{number:"08",text:"August"},{number:"09",text:"September"},{number:"10",text:"October"},{number:"11",text:"November"},{number:"12",text:"December"}],v.days=[];for(var d=1;31>=d;d++)v.days.push(d);v.event={sponzorshipTypes:[],lang:s.currentLanguage()||v.user.lang||"en",organizer:o.id,image:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/event_default.jpg"},v.eventTypes=c,v.categories=p,v.showSponzorshipType=function(e){e.show=!e.show},v.createNewEvent=function(){function e(){u.showLoading(),v.event.location=v.locationEvent.formatted_address,v.event.location_reference=v.locationEvent.place_id,v.event.starts=v.event.startsAux.year+"-"+v.event.startsAux.month+"-"+v.event.startsAux.day+" "+v.event.startsAux.hour,v.event.ends=v.event.endsAux.year+"-"+v.event.endsAux.month+"-"+v.event.endsAux.day+" "+v.event.endsAux.hour,v.event.perks=v.event.sponzorshipTypes,r.createEvent(v.event).then(function(e){v.user=JSON.parse(o.user),e.data.event.starts=new Date(e.data.event.starts).getTime(),e.data.event.ends=new Date(e.data.event.ends).getTime(),v.user.events.push(e.data.event),o.user=JSON.stringify(v.user),u.closeLoading(),u.showDialog("success","eventCreatedSuccesfully","/organizers/dashboard"),v.event={}},function(e){u.closeLoading(),u.showDialog("error","errorCreatingEvent",!1)})}v.event.startsAux2=new Date(v.event.startsAux.year+"-"+v.event.startsAux.month+"-"+v.event.startsAux.day+" "+v.event.startsAux.hour).getTime(),v.event.endsAux2=new Date(v.event.endsAux.year+"-"+v.event.endsAux.month+"-"+v.event.endsAux.day+" "+v.event.endsAux.hour).getTime();var t=!1;if(v.event.sponzorshipTypes.length)for(var n=0;n<v.event.sponzorshipTypes.length;n++)if(!v.event.sponzorshipTypes[n].perkTasks.length){t=!0;break}v.event.sponzorshipTypes.length?t?u.showDialog("error","sponsorshipTypeWithoutTasksText",!1):v.event.endsAux2<=v.event.startsAux2?u.showDialog("error","invalidDatesText",!1):e():u.showDialog("error","eventWithoutSponsorshipTypeText",!1)},e.file=!1,e.imageVerification=function(){if(e.file){v.creds={bucket:s.getConstants().AMAZONBUCKET,access_key:s.getConstants().AMAZONKEY,secret_key:s.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:v.creds.access_key,secretAccessKey:v.creds.secret_key}),AWS.config.region=s.getConstants().AMAZONBUCKETREGION;var t=new AWS.S3({params:{Bucket:v.creds.bucket}}),n=btoa(s.uniqueString()+(new Date).getTime()+s.uniqueString()).replace("=",s.uniqueString())+"."+s.getExtension(e.file.name),o={Key:n,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};u.showLoading(),t.putObject(o,function(e,t){e?u.closeLoading():(u.closeLoading(),v.event.image=s.getConstants().AMAZONBUCKETURL+n)})}},v.addSponzorshipTypeForm=function(){function e(e){e.addSponzorshipType=function(){v.event.sponzorshipTypes.push({kind:e.newSponzorshipType.kind,usd:e.newSponzorshipType.usd,total_quantity:e.newSponzorshipType.totalQuantity,reserved_quantity:0,perkTasks:[],show:!0}),t.hide()}}var n=angular.element(document.body);t.show({parent:n,clickOutsideToClose:!0,templateUrl:"organizers-event-add/sponzorshipTypeForm.html",controller:e}),e.$inject=["$scope"]},v.addTaskForm=function(e){function n(n){n.addTask=function(){e.perkTasks.push({title:n.newTask.title,description:n.newTask.title}),t.hide()}}var o=angular.element(document.body);t.show({parent:o,clickOutsideToClose:!0,templateUrl:"organizers-event-add/taskForm.html",controller:n}),n.$inject=["$scope"]},v.removeTask=function(e,t){v.event.sponzorshipTypes[e].perkTasks.splice(t,1)},v.removeSponzorshipType=function(e){v.event.sponzorshipTypes.splice(e,1)},v.connectEventbrite=function(){function e(e){e.getEventbriteEvents=function(t){e.loadingEventbriteEvents=!0,i.getEventbriteEvents(t).success(function(t,n){e.loadingEventbriteEvents=!1,e.eventbriteEvents=t.events}).error(function(t){e.loadingEventbriteEvents=!1,e.errorLoadingEventbriteEvents=!0})},e.prefillEventFromEvenbrite=function(e){v.event.title=e.name.text,v.event.description=e.description.text,v.event.starts=new Date(e.start.local).getTime(),v.event.ends=new Date(e.end.local).getTime(),v.event.privacy=0,v.event.image=e.logo.url;var n=new Date(v.event.starts),o=n.getMinutes()>9?n.getMinutes():"0"+n.getMinutes(),r=n.getSeconds()>9?n.getSeconds():"0"+n.getSeconds(),s=n.getHours()>9?n.getHours():"0"+n.getHours();v.event.startsAux={year:n.getUTCFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:s+":"+o+":"+r};var a=new Date(v.event.ends),i=a.getMinutes()>9?a.getMinutes():"0"+a.getMinutes(),u=a.getSeconds()>9?a.getSeconds():"0"+a.getSeconds(),c=a.getHours()>9?a.getHours():"0"+a.getHours();v.event.endsAux={year:a.getUTCFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:c+":"+i+":"+u},t.hide()},e.EVENTBRITEAPYKEY=s.getConstants().EVENTBRITEAPYKEY,e.connectingToEventbrite=!0;var n=(new Date).getTime();o.eventBriteBearedExpirationTime&&n<o.eventBriteBearedExpirationTime?(e.connectedToEventbrite=!0,e.connectingToEventbrite=!1,e.errorConnectingToEventbrite=!1,e.getEventbriteEvents(o.eventBriteBeared)):i.getEventbriteAuth(a.eventBriteCode).success(function(t){var n=JSON.parse(g(t.response));n.error?(e.connectedToEventbrite=!1,e.connectingToEventbrite=!1,e.errorConnectingToEventbrite=!0):(e.connectedToEventbrite=!0,e.connectingToEventbrite=!1,e.errorConnectingToEventbrite=!1,o.eventBriteBeared=n.access_token,o.eventBriteBearedExpirationTime=(new Date).getTime()+36e5,e.getEventbriteEvents(o.eventBriteBeared))})}var n=angular.element(document.body);t.show({parent:n,clickOutsideToClose:!0,templateUrl:"organizers-event-add/eventbrite-dialog.html",controller:e}),e.$inject=["$scope"]},v.connectMeetup=function(){function e(e){e.getMeetupGroups=function(t){e.loadingMeetupEvents=!0,i.getMeetupGroups(t).success(function(t){e.loadingMeetupEvents=!1,e.meetupEvents=JSON.parse(t.response)}).error(function(t){e.loadingMeetupEvents=!1,e.errorLoadingMeetupEvents=!0})},e.prefillEventFromMeetup=function(e){v.event.title=e.name,v.event.description=e.description,v.event.starts=new Date(e.time);var n=new Date(e.time),o=parseInt(72e5),r=new Date(n.getTime()+o);v.event.ends=new Date(r),v.event.privacy=0;var s=new Date(v.event.starts),a=s.getMinutes()>9?s.getMinutes():"0"+s.getMinutes(),i=s.getSeconds()>9?s.getSeconds():"0"+s.getSeconds(),u=s.getHours()>9?s.getHours():"0"+s.getHours();v.event.startsAux={year:s.getUTCFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:u+":"+a+":"+i};var c=new Date(v.event.ends),p=c.getMinutes()>9?c.getMinutes():"0"+c.getMinutes(),g=c.getSeconds()>9?c.getSeconds():"0"+c.getSeconds(),d=c.getHours()>9?c.getHours():"0"+c.getHours();v.event.endsAux={year:c.getUTCFullYear(),month:c.getMonth()+1,day:c.getDate(),hour:d+":"+p+":"+g},t.hide()},e.MEETUPAPIKEY=s.getConstants().MEETUPAPIKEY,e.MEETUPREDIRECTURL=s.getConstants().MEETUPREDIRECTURL,e.connectingToMeetup=!0;var n=(new Date).getTime();o.meetupBeared&&o.meetupBearedExpirationTime>n?(e.connectedToMeetup=!0,e.connectingToMeetup=!1,e.errorConnectingToMeetup=!1,e.getMeetupGroups(o.meetupBeared)):i.getMeetupAuth(a.meetupCode).success(function(t){var n=JSON.parse(g(t.response));n.error?(e.connectedToMeetup=!1,e.connectingToMeetup=!1,e.errorConnectingToMeetup=!0):(e.connectedToMeetup=!0,e.connectingToMeetup=!1,e.errorConnectingToMeetup=!1,o.meetupBeared=n.access_token,o.meetupBearedExpirationTime=(new Date).getTime()+36e5,e.getMeetupGroups(n.access_token))})}var n=angular.element(document.body);t.show({parent:n,clickOutsideToClose:!0,templateUrl:"organizers-event-add/meetup-dialog.html",controller:e}),e.$inject=["$scope"]},v.importSelection=function(){function e(e){e.a=function(){v.connectEventbrite(),t.hide()},e.b=function(){v.connectMeetup(),t.hide()}}var n=angular.element(document.body);t.show({parent:n,clickOutsideToClose:!0,templateUrl:"organizers-event-add/import-dialog.html",controller:e}),e.$inject=["$scope"]},a.eventBriteCode?v.connectEventbrite():a.meetupCode&&v.connectMeetup()}}angular.module("sponzorme").controller("OrganizersEventAddController",e),e.$inject=["$scope","$mdDialog","$translate","$localStorage","eventRequest","$rootScope","$routeParams","eventbriteRequest","dialogRequest","eventTypes","categories"]}();
!function(){"use strict";function o(o,s,r,n,e){if(r.userValidation("0")){var t=this;e.showLoading(),t.sponsor=!1,s.oneUser(n.idSponsor).then(function(o){if(t.sponsor=o.data.data,t.sponsor.rating=t.sponsor.rating||0,t.amount=0,t.sponsor.user.sponzorships)for(var s=0;s<t.sponsor.user.sponzorships.length;s++)t.sponsor.user.sponzorships[s].status&&(t.amount=parseFloat(t.amount+parseFloat(t.sponsor.user.sponzorships[s].perk.usd)));e.closeLoading()})}}angular.module("sponzorme").controller("OrganizersSponzorProfileController",o),o.$inject=["$scope","userRequest","$rootScope","$routeParams","dialogRequest"]}();
!function(){"use strict";function e(e,a,s,o,n,t,r){if(r.userValidation("0")){var i=this;t.oneSponzorship(n.sponzorshipId).then(function(e){i.sponzorshipInfo=e.data.data,e.data.data.Organizer.id===s.id?i.newMessage={author:e.data.data.Organizer.name,type:"#5DDECF",sponzorshipId:n.sponzorshipId}:e.data.data.Sponzor.id===s.id?i.newMessage={author:e.data.data.Sponzor.name,type:"#F6CECE",sponzorshipId:n.sponzorshipId}:o.path("/login")});var d=new Firebase(r.getConstants().FURL+"chat"),p=d.orderByChild("sponzorshipId").equalTo(n.sponzorshipId);i.chatMessages=a(p),i.addMessage=function(){i.newMessage.text&&(i.newMessage.userImage=s.image,i.newMessage.timedate=(new Date).getTime(),i.chatMessages.$add(i.newMessage),i.newMessage.text="")}}}angular.module("sponzorme").controller("OrganizersChatController",e),e.$inject=["$scope","$firebaseArray","$localStorage","$location","$routeParams","sponzorshipRequest","$rootScope"]}();
!function(){"use strict";function o(o,i,r,n,s,e,t,a){if(r.userValidation("0")){var p=this;p.user=JSON.parse(i.user),p.saveRating=function(){t.showLoading(),p.rating.other&&(p.rating.question5="Other: "+p.rating.other),n.createRating(p.rating).then(function(o){p.user.sponzorships_like_organizer[s.sponzorshipId].ratings.push(o.data.Rating),p.user.sponzorships_like_organizer[s.sponzorshipId].rated_organizer="1",i.user=JSON.stringify(p.user),i.$apply(),t.closeLoading(),t.showDialog("success","sponzorRatedSuccesfuly","/organizers/sponzors");var r={to:o.data.Rating.sponzor_id,text:e.instant("NOTIFICATIONS.SponzorRated")+p.user.name,link:"#/profile/"+o.data.Rating.organizer_id};a.sendNotification(r,o.data.Rating.organizer_id)},function(){t.closeLoading(),t.showDialog("error","invalidRate",!1)})},p.initForm=function(){p.rating={organizer_id:i.id,sponzor_id:p.currentSponzorship.sponzor.id,sponzorship_id:p.currentSponzorship.id,type:0,question0:"",question1:"",question2:"",question3:"",question4:"",question5:"",question6:""}},s.sponzorshipId&&(p.currentSponzorship=p.user.sponzorships_like_organizer[s.sponzorshipId],p.initForm())}}angular.module("sponzorme").controller("OrganizersSponsorRatingController",o),o.$inject=["$scope","$localStorage","$rootScope","ratingRequest","$routeParams","$translate","dialogRequest","firebaseRequest"]}();
!function(){"use strict";function t(t,s,a,e,r,o,n,i,u,c){if(o.userValidation("0")){var l=this;l.user=JSON.parse(r.user),l.eventId=i.eventId,l.activePerk=function(t,s){for(var a=0;a<s.perks.length;a++)s.perks[a].active=!1;t.active=!0,l.showHeader=!0},l.changeStatus=function(s){s.loading=!0;var e=s.status;"1"===s.status||1===s.status?s.status=0:s.status=1;var o={status:s.status};a.editTaskSponzorPatch(s.id,o).then(function(a){s.loading=!1,r.user=JSON.stringify(t.user)},function(){s.status=e,s.loading=!1,n.showDialog("error","errorUpdatingTaskStatus",!1)})}}}angular.module("sponzorme").controller("OrganizersEventTasksController",t),t.$inject=["$scope","$translate","taskSponzorRequest","sponzorshipRequest","$localStorage","$rootScope","dialogRequest","$routeParams","SPONZORSHIPSTATUSES","$mdDialog"]}();
!function(){"use strict";function e(e,r,a,o,s,t,i,n,c,g,l,d,m){"en"!==t.lang&&"es"!==t.lang&&"pt"!==t.lang||r.use(t.lang),e.doCreate=function(){""!==e.create.password.trim()||""!==e.create.password_confirmation.trim()?e.create.password===e.create.password_confirmation&&e.create.password_confirmation.length>6?(d.showLoading(),e.create.lang=i.currentLanguage(),e.create.type=0,e.create.ionic_id="",e.create.name=e.create.firstname+" "+e.create.lastname,a.createUser(e.create).success(function(r){s.cookiesponzorme=btoa(e.create.email+":"+e.create.password),s.token=btoa(e.create.email+":"+e.create.password),s.typesponzorme=r.User.type,s.id=r.User.id,s.email=r.User.email,s.demo=r.User.demo,s.startDate=Date.now(),e.toggleCreateForm(),d.closeLoading()}).error(function(r){function a(e,r,a){e.errorMessages=a,e.closeDialog=function(){r.hide()}}"Not inserted"===r.message&&(e.errorMessages=[],r.error.email&&("The email has already been taken."===r.error.email[0]?(e.errorMessages.push("errorEmailAlreadyTaken"),e.didYouForgotPassword=!0):e.errorMessages.push("errorRegisterEmail")),r.error.name&&e.errorMessages.push("errorRegisterName"),r.error.lastname&&e.errorMessages.push("errorRegisterLastname"),r.error.password&&e.errorMessages.push("errorRegisterPassword")),d.closeLoading();var o=angular.element(document.body);m.show({parent:o,template:'<md-dialog aria-label="dialog"><md-toolbar><div class="md-toolbar-tools top-info"><i class="material-icons md-48 md-light">info</i></div></md-toolbar><md-dialog-content><div layout="column" layout-align="center center"><h1 translate>dialog.error.title</h1><p ng-repeat="m in errorMessages">{{\'dialog.error.\'+m|translate}}</p></div></md-dialog-content><md-dialog-actions><md-button ng-click="closeDialog()" class="md-primary">{{"Ok"}}</md-button></md-dialog-actions></md-dialog>',locals:{errorMessages:e.errorMessages},controller:a}),a.$inject=["$scope","$mdDialog","errorMessages"]})):e.create.password_confirmation.length>6?d.showDialog("error","errorRegisterPasswordNoMatch",!1):d.showDialog("error","errorRegisterShortPassword",!1):d.showDialog("error","errorRegisterPasswordNoEmpty",!1)},e.doCustomization=function(){d.showLoading(),e.create.location_reference="Fake",e.create.image="https://s3-us-west-2.amazonaws.com/sponzormewebappimages/user_default.jpg",a.editUserPatch(s.id,e.create).success(function(e){d.showDialog("success","registerCompleted","/login"),d.closeLoading()});for(var r=[],o=0;o<e.create.interests.length;o++){var t={user_id:s.id,interest_id:e.create.interests[o]};r.push(t)}var i={interests:r};l.bulkUserInterest(i).then(function(){})},g.allCategories().then(function(r){e.categories=r.data.categories},function(){e.categories=[]}),e.pages={firstPage:"",secondPage:"",thirdPage:""},e.submitSucces=function(){return!1},e.create={date:new Date,image:"",success:!1,age:"",password:"",password_confirmation:""},e.firstPage=!0,e.toggleCreateForm=function(){e.firstPage===!0?e.firstPage=!1:e.firstPage=!0},e.ageRange=[];for(var u=n;c>u;u++)e.ageRange.push(u)}angular.module("sponzorme").controller("OrganizersCreateController",e),e.$inject=["$scope","$translate","userRequest","$location","$localStorage","$routeParams","$rootScope","MINAGE","MAXAGE","categoryRequest","userInterestRequest","dialogRequest","$mdDialog"]}();
!function(){"use strict";function e(e,i,n,o,s,r){if(o.userValidation("0")){var t=this;t.friend={email:"",message:"no-message",user_id:s.id},t.inviteFriend=function(){r.showLoading(),n.invitedUser(t.friend).then(function(e){r.closeLoading(),r.showDialog("success","inviteFiendEmailSent",!1),t.friend={email:"",message:"no-message",user_id:s.id}},function(e){r.closeLoading(),r.showDialog("error","problem",!1)})}}}angular.module("sponzorme").controller("OrganizersInviteController",e),e.$inject=["$scope","$translate","userRequest","$rootScope","$localStorage","dialogRequest"]}();
!function(){"use strict";function e(e,t,n,o,a,r,s,i,l,c,u){function d(){m.credentials.lang=i.currentLanguage(),m.credentials.type=0,m.credentials.ionic_id="",m.credentials.activated=1,l.createUser(e.credentials).then(function(t){o.cookiesponzorme=btoa(e.create.email+":"+e.create.password),o.token=btoa(e.create.email+":"+e.create.password),o.typesponzorme=t.User.type,o.id=t.User.id,o.email=t.User.email,o.demo=t.User.demo,o.startDate=Date.now(),f()},function(e){u.error("Error",e)})}function g(e){if(o.$reset(),o.type=e.user.type,o.token=btoa(m.credentials.email+":"+m.credentials.password),o.id=e.user.id,o.email=e.user.email,o.demo=e.user.demo,o.image=e.user.image,o.startDate=Date.now(),o.rating=e.rating,t.use(e.user.lang),o.lastUpdate=(new Date).getTime(),e.user.sponzorships&&(e.user.sponzorships=e.user.sponzorships.filter(function(e){return e.event.starts=e.event.starts.replace(" ","T"),e.event.starts=new Date(e.event.starts).getTime(),e})),e.eventTasks){var n=[];e.eventTasks.filter(function(e){return e.sponzorship.length?e.perks.filter(function(t){return t.sponzor_tasks.length?(n.push(e),e):void 0}):void 0}),e.user.eventTasks=n}if(e.user.events&&(e.user.events=e.user.events.filter(function(e){return e.starts=e.starts.replace(" ","T"),e.starts=new Date(e.starts).getTime(),e})),e.events){o.events=[];var a=e.events.filter(function(e){return e.starts=e.starts.replace(" ","T"),e.ends=e.ends.replace(" ","T"),e.starts=new Date(e.starts).getTime(),e.ends=new Date(e.ends).getTime(),e});o.events=JSON.stringify(a)}var r=e.user.name.split(" ");e.user.firstName=r[0],e.user.lastName=r[1],o.user=JSON.stringify(e.user)}function p(e){"1"===e.user.type||1===e.user.type?h&&-1===h.indexOf("/#/login")&&h.indexOf("sponzors")>-1||h&&h.indexOf("/#/event/")>-1?window.location.href=h:a.path("/sponzors/dashboard"):h&&-1===h.indexOf("/#/login")&&h.indexOf("organizers")>-1||h&&h.indexOf("/#/event/")>-1?window.location.href=h:a.path("/organizers/dashboard")}function f(){r.showLoading(),n.authentication(m.credentials).then(function(e){g(e),r.closeLoading(),p(e)},function(e){r.closeLoading(),e.unactivatedAccount&&r.showDialog("error","login.unactivatedAccount",!1),e.invalidEmail?r.showDialog("error","login.invalidEmail",!1):e.invalidPassword?r.showDialog("error","login.invalidPassword",!1):e.invalidType?r.showDialog("error","login.invalidType",!1):e.newFacebookAccount?d():r.showDialog("error","login.unknown",!1)})}"en"!==s.lang&&"es"!==s.lang&&"pt"!==s.lang||t.use(s.lang);var m=this,h=o.redirectTo;m.loginWithEmail=function(){m.credentials.loginType=0,f()},m.loginWithFacebook=function(){c.$authWithOAuthPopup("facebook",{scope:"email, user_birthday, user_location"}).then(function(e){u.debug(e),m.credentials={email:e.facebook.email,password:e.facebook.id,name:e.facebook.displayName,loginType:1,age:e.facebook.cachedUserProfile.birthday,location:e.facebook.cachedUserProfile.location.name},f()})}}angular.module("sponzorme").controller("LoginController",e),e.$inject=["$scope","$translate","loginRequest","$localStorage","$location","dialogRequest","$routeParams","$rootScope","userRequest","Auth","$log"]}();
!function(){"use strict";function o(o,n,i,t){function c(){o.showLoading(),n.tryActivation(i.token).success(function(){o.closeLoading(),o.showDialog("success","activationSuccess","/login")}).error(function(){o.closeLoading(),o.showDialog("error","errorActivation","/login")})}c()}angular.module("sponzorme").controller("ActivationController",o),o.$inject=["dialogRequest","loginRequest","$routeParams","$location"]}();
!function(){"use strict";function e(e,r){return r(e)}angular.module("sponzorme").constant("FirebaseUrl","https://sponzorme.firebaseio.com/"),angular.module("sponzorme").service("firebaseRef",["FirebaseUrl",Firebase]),angular.module("sponzorme").factory("Auth",e),e.$inject=["firebaseRef","$firebaseAuth"]}();
!function(){"use strict";function o(o,t){t.$reset(),o.path("/login")}angular.module("sponzorme").controller("LogoutController",o),o.$inject=["$location","$localStorage"]}();
!function(){"use strict";function o(o,s,a,e,r){var n=this;n.forgotPassword=function(){r.showLoading(),e.resetPassword(n.email).then(function(){r.closeLoading(),r.showDialog("success","PasswordResetLinkSent",!1)},function(){r.closeLoading(),r.showDialog("error","InvalidEmail",!1)})},n.resetPassword=function(){if(r.showLoading(),n.password===n.passwordConfirmation){var o={email:n.email,password:n.password,password_confirmation:n.passwordConfirmation};e.updatePassword(a.tokenReset,o).then(function(o){r.closeLoading(),r.showDialog("success","PasswordChangedSuccesfully","/login")},function(o){r.closeLoading(),r.showDialog("error","InvalidData",!1)})}else r.closeLoading(),r.showDialog("error","errorRegisterPasswordNoMatch",!1)}}angular.module("sponzorme").controller("ForgotController",o),o.$inject=["$scope","$rootScope","$routeParams","loginRequest","dialogRequest"]}();
!function(){"use strict";function e(e,o,r,t,s,n,i,a,l,c,u,p,d){var g=this;g.sponsoreable=!1,s.id&&"1"===s.type&&s.user?(g.isSponzor=!0,g.sponsoreable=!0,console.log(p),g.events=JSON.parse(s.events),d.info(g.events,r.eventId),g.events.filter(function(e){e.id==r.eventId&&(d.info(e),g.currentEvent=e,g.currentEvent.perks=g.currentEvent.perks.filter(function(e){return e.show=!0,e}))}),g.currentEvent||(g.currentEvent=p,g.pastEvent=!0),g.currentEvent.description=c.trustAsHtml(g.currentEvent.description),g.formCreateSponzorship=function(r){e.newSponzorship={organizer_id:g.currentEvent.user_organizer.id,sponzor_id:s.id,event_id:g.currentEvent.id,perk_id:r.id,cause:"",status:0},o.show({templateUrl:"sponzors-event/create-sponzorship.html",controller:"SponzorsEventController",controllerAs:"sec",scope:e,clickOutsideToClose:!0})},g.createSponzorship=function(){l.closeLoading(),l.showLoading(),g.user=JSON.parse(s.user),g.user.sponzorships=g.user.sponzorships.filter(function(e){return"0"===e.status?e:void 0}),i.createSponzorship(e.newSponzorship).then(function(e){g.user.sponzorships.push(e.data.Sponzorship),s.user=JSON.stringify(g.user),g.firebaseNotification={to:g.currentEvent.user_organizer.id,text:t.instant("NOTIFICATIONS.NewSponzorshipRequestfor")+g.currentEvent.title,link:"#/organizers/sponzors"},u.sendNotification(g.firebaseNotification,g.currentEvent.user_organizer.id),l.closeLoading(),l.showDialog("success","sponzorshipCreatedSuccesfuly",!1)},function(e){l.closeLoading(),409===e.status?l.showDialog("error","alreadySponzoring",!1):l.showDialog("error","youCanNotSponzorThisEvent",!1)})}):("0"===s.type&&(g.isOrganizer=!0),g.currentEvent=p,g.currentEvent.perks=g.currentEvent.perks.filter(function(e){return e.show=!0,e})),g.share=function(e){function r(e,o,r,t){e.url=t.getConstants().EVENTPAGESHARE+r.id,e.eventTitle=r.title,e.closeDialog=function(){o.hide()}}var t=angular.element(document.body);o.show({parent:t,template:'<md-dialog aria-label="List dialog">  <md-dialog-content>  <h2 translate>eventPage.shareEvent</h2>    <div layout="row" layout-align="center center">      <a href="" socialshare socialshare-provider="facebook" socialshare-text="{{eventTitle}}" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-fb.svg"></a>      <a href="" socialshare socialshare-provider="twitter" socialshare-text="{{eventTitle}}" socialshare-hashtags="SponzorMe" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-twttr.svg"></a>      <a href="" socialshare socialshare-provider="google" socialshare-url="{{url}}"><img width="100px" src="../../images/social/social-g.svg"></a>    </div>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-click="closeDialog()" class="md-primary">      Close Dialog    </md-button>  </md-dialog-actions></md-dialog>',locals:{event:e},controller:r}),r.$inject=["$scope","$mdDialog","event","$rootScope"]}}angular.module("sponzorme").controller("LandingController",e),e.$inject=["$scope","$mdDialog","$routeParams","$translate","$localStorage","$location","sponzorshipRequest","$rootScope","dialogRequest","$sce","firebaseRequest","event","$log"]}();
!function(){"use strict";function n(n,s,o){var r=o.current.loadedTemplateUrl,t={dashboard:["sponzors-main/main.html","sponzors-outstanding/outstanding.html","event.html"],sponzoring:["sponzors-sponzoring/sponzorships.html","sponzors-sponzoring/sponzorshipsId.html"],tasks:["sponzors-tasks/tasks.html","sponzors-tasks/taskId.html","sponzors-tasks/tasks_create.html"],notifications:["sponzors-notifications/notifications.html","sponzors-notifications/detail.html","sponzors-notifications/readed.html","sponzors-notifications/importants.html"],settings:["sponzors-settings/profile.html","sponzors-settings/preferences.html","sponzors-settings/ratings.html"],saved:["sponzors-saved/saved.html"]},i={dashboard:["organizers-main/main.html","organizers-balance/balance.html","organizers-sponzors/sponzors.html","organizers-main/record.html"],sponzoring:["organizers/dashboard/organizerships.html","organizers/dashboard/organizershipsId.html"],following:["organizers/dashboard/following.html"],news:["organizers-news/news.html"],tasks:["organizers-tasks/tasks.html","organizers-tasks/tasks_create.html","organizers-tasks/taskId.html"],notifications:["organizers-notifications/detail.html","organizers-notifications/importants.html","organizers-notifications/notifications.html","organizers-notifications/readed.html"],settings:["organizers-settings/profile.html","organizers-settings/preferences.html","organizers-settings/rate.html"]};n.dashboard=function(n){if("organizers"===n){for(var s=0;s<i.dashboard.length;s++)if(i.dashboard[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.dashboard.length;s++)if(t.dashboard[s]===r)return!0},n.sponzoring=function(n){if("organizers"===n){for(var s=0;s<i.sponzoring.length;s++)if(i.sponzoring[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.sponzoring.length;s++)if(t.sponzoring[s]===r)return!0},n.following=function(n){if("organizers"===n){for(var s=0;s<i.following.length;s++)if(i.following[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.following.length;s++)if(t.following[s]===r)return!0},n.news=function(n){if("organizers"===n){for(var s=0;s<i.news.length;s++)if(i.news[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.news.length;s++)if(t.news[s]===r)return!0},n.tasks=function(n){if("organizers"===n){for(var s=0;s<i.tasks.length;s++)if(i.tasks[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.tasks.length;s++)if(t.tasks[s]===r)return!0},n.notifications=function(n){if("organizers"===n){for(var s=0;s<i.notifications.length;s++)if(i.notifications[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.notifications.length;s++)if(t.notifications[s]===r)return!0},n.settings=function(n){if("organizers"===n){for(var s=0;s<i.settings.length;s++)if(i.settings[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.settings.length;s++)if(t.settings[s]===r)return!0},n.saved=function(n){if("organizers"===n){for(var s=0;s<i.saved.length;s++)if(i.saved[s]===r)return!0}else if("sponzors"===n)for(var s=0;s<t.saved.length;s++)if(t.saved[s]===r)return!0},n.openMenu=function(s,o){n.originatorEv=o,s(o)},n.openSidenavLeft=function(){s("left").toggle()},n.isOpenLeft=function(){var n=!0;return n=s("left").isOpen()}}angular.module("sponzorme").controller("SidenavController",n),n.$inject=["$scope","$mdSidenav","$route"]}();