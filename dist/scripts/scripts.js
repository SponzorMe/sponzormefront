!function(){"use strict";angular.module("sponzorme",["pascalprecht.translate","ngResource","ngRoute","ngDialog","base64","ngCookies","ngStorage","ui.bootstrap","google.places","angularSpinner","jshor.angular-addtocalendar","angularUtils.directives.dirPagination","ui.bootstrap.datetimepicker","firebase","textAngular","angular-input-stars","luegg.directives"])}();
!function(){"use strict";angular.module("sponzorme").constant("DEFAULTLANG","en").constant("DEMOSTEPS",4).constant("MAXPERKLIMIT",200).constant("EXPIRATIONTIME",1)}();
!function(){"use strict";angular.module("sponzorme").config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"langs/lang-",suffix:".json"}),e.useSanitizeValueStrategy("escaped"),e.preferredLanguage("en"),e.fallbackLanguage("en")}]).config(["$localStorageProvider",function(e){e.setKeyPrefix("QkeMJxG7-")}])}();
!function(){"use strict";angular.module("sponzorme").config(["$routeProvider",function(r){r.when("",{templateUrl:"views/login.html",controller:"LoginController"}).when("/",{templateUrl:"views/login.html",controller:"LoginController"}).when("/activation/:token",{templateUrl:"views/activation.html",controller:"ActivationController"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).when("/resend",{templateUrl:"views/resend.html",controller:"ResendController"}).when("/forgot",{templateUrl:"views/forgot.html",controller:"ForgotController"}).when("/reset/:tokenReset",{templateUrl:"views/reset.html",controller:"ForgotController"}).when("/sponzors/create",{templateUrl:"views/sponzors/create.html",controller:"SponzorsCreateController"}).when("/organizers/create",{templateUrl:"views/organizers/create.html",controller:"OrganizersCreateController"}).when("/logout",{templateUrl:"views/login.html",controller:"LogoutController"}).when("/organizers/dashboard",{templateUrl:"views/organizers/dashboard/main.html",controller:"OrganizersMainController"}).when("/organizers/events",{templateUrl:"views/organizers/dashboard/events.html",controller:"OrganizersEventsController"}).when("/organizers/sponzors",{templateUrl:"views/organizers/dashboard/sponzorships.html",controller:"OrganizersSponzorshipsController"}).when("/customization",{templateUrl:"views/customization/customization.html",controller:"CustomizationController"}).when("/organizers/friend",{templateUrl:"views/organizers/dashboard/friend.html",controller:"OrganizersFriendController"}).when("/organizers/settings",{templateUrl:"views/organizers/dashboard/settings.html",controller:"OrganizersSettingsController"}).when("/sponzors/dashboard",{templateUrl:"views/sponzors/dashboard/main.html",controller:"SponzorsMainController"}).when("/sponzors/settings",{templateUrl:"views/sponzors/dashboard/settings.html",controller:"SponzorsSettingsController"}).when("/sponzors/friend",{templateUrl:"views/sponzors/dashboard/friend.html",controller:"SponzorsFriendController"}).when("/sponzors/following",{templateUrl:"views/sponzors/dashboard/following.html",controller:"SponzorsMasterController"}).when("/sponzors/sponzoring",{templateUrl:"views/sponzors/dashboard/sponzorships.html",controller:"SponzorsMasterController"}).when("/event/:eventId",{templateUrl:"views/event.html",controller:"EventPageController"}).when("/organizers/add/event",{templateUrl:"views/organizers/dashboard/add_event.html",controller:"OrganizersMasterController"}).when("/organizers/edit/event/:id",{templateUrl:"views/organizers/dashboard/edit_event.html",controller:"OrganizersMasterController"}).when("/sponzors/payment_complete/:sponzorship_id/:sponzor_id",{templateUrl:"views/sponzors/dashboard/sponzorships.html",controller:"SponzorsSponzorshipsController"}).when("/eventbrite/:eventBriteCode",{templateUrl:"views/organizers/dashboard/add_event.html",controller:"OrganizersMasterController"}).when("/meetup/:meetupCode",{templateUrl:"views/organizers/dashboard/add_event.html",controller:"OrganizersMasterController"}).when("/sponzors/rating/:sponzorshipId",{templateUrl:"views/sponzors/dashboard/rateSponzorship.html",controller:"SponzorsRatingController"}).when("/organizers/rating/:sponzorshipId",{templateUrl:"views/organizers/dashboard/rateSponzorship.html",controller:"OrganizersRatingController"}).when("/sponzors/chat/sponzorship/:sponzorshipId",{templateUrl:"views/chat.html",controller:"ChatController"}).when("/profile/:userId",{templateUrl:"views/profile.html",controller:"ProfileController"}).otherwise({redirectTo:"/login"})}])}();
!function(){"use strict";angular.module("sponzorme").run(["$rootScope",function(E){E.getConstants=function(){var E=window.location.hostname;return E.indexOf("localhost")>-1?{URL:"http://local.api.com/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"http://apilocal.sponzor.me/ipn",PAYPALEMAIL:"bussines@sponzor.me",FURL:"https://sponzorme.firebaseio.com/localhost/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!0,EVENTBRITECLIENTSECRET:"QNC7CUESEQ67AA3WST4UWHFRAFNQ5J6RELHQVHBIPY2QCHY5DZ",EVENTBRITEAPYKEY:"BI5D6XQVDCIPGOKY4U",MEETUPAPIKEY:"9pfi8r66lr4da194pc1lvhclq7",MEETUPREDIRECTURL:"https://apilocal.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2"}:E.indexOf("staging")>-1?{URL:"https://apistaging.sponzor.me/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"http://apistaging.sponzor.me/ipn",PAYPALEMAIL:"bussines@sponzor.me",FURL:"https://sponzorme.firebaseio.com/staging/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!0,EVENTBRITECLIENTSECRET:"REYYYTW7MW4ABJUI275V3JESPWRR55E5OLKTVC63VNXWFL4WLB",EVENTBRITEAPYKEY:"6WILTRRV7HVLBSRSGP",MEETUPAPIKEY:"scqnorvk4o3utc3k19qfj45vng",MEETUPREDIRECTURL:"https://apistaging.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2"}:E.indexOf("app")>-1?{URL:"https://api.sponzor.me/",XOOMRATE:parseFloat(4.99),FEE:parseFloat(.1),PAYPALCOMPLETERETURNURL:"http://www.sponzor.me/thank-you/",PAYPALIPNRETURNURL:"https://api.sponzor.me/ipn",PAYPALEMAIL:"ing.carlosandresrojas@gmail.com",FURL:"https://sponzorme.firebaseio.com/production/",AMAZONSECRET:"RlzqEBFUlJW/8YGkeasfmTZRLTlWMWwaBpJNBxu6",AMAZONKEY:"AKIAJDGUKWK3H7SJZKSQ",AMAZONBUCKET:"sponzormewebappimages",PAYPALSANDBOX:!1,EVENTBRITECLIENTSECRET:"V72EKSC2YWR5Y4XKVKCUL4W45ZAAVXJSEG3KOBAFIVKR6ESIX5",EVENTBRITEAPYKEY:"MI3YNPLR3R73AD36YS",MEETUPAPIKEY:"lc876qakj5itnsnebm3dijus12",MEETUPREDIRECTURL:"https://api.sponzor.me/accept/meetup",AMAZONBUCKETREGION:"us-west-2",AMAZONBUCKETURL:"https://s3-us-west-2.amazonaws.com/sponzormewebappimages/",EVENTEXPIRATIONDAYS:"2"}:void 0}}])}();
!function(){"use strict";angular.module("sponzorme").run(["$rootScope","$translate","$location","allInterestsServiceRequest","$filter","$localStorage","userRequest","ngDialog","$firebaseArray",function(e,t,o,n,i,a,r,s,l,c){var u=window.location.href;if("http:"===window.location.protocol&&u.indexOf("localhost")<=-1){var g=u.replace("http:","https:");window.location.href=g}e.tolsctive||(e.tolsctive="active"),e.toggleSidebar=function(){e.tolsctive=!e.tolsctive,e.tolsctive===!0&&(e.tolsctive="active")},e.sendFirebaseNotification=function(t,o){t.date=(new Date).getTime();var n=new Firebase(e.getConstants().FURL+"notifications/"+o),i=l(n);i.$add(t)},e.changeLanguage=function(e){t.use(e)},e.currentLanguage=function(){return t.use()},e.showLoading=function(){s.open({template:"views/templates/loadingDialog.html",showClose:!1,controller:"DialogController"})},e.showDialog=function(t,o,n){e.pseudoScope={message:o,redirectOnClose:n};var i;i="error"===t?"views/templates/errorDialog.html":"success"===t?"views/templates/successDialog.html":"views/templates/infoDialog.html",e.pseudoScope.message=o,e.pseudoScope.redirectOnClose=n,s.open({template:i,showClose:!1,closeByEscape:!1,closeByDocument:!1,controller:"DialogController",scope:e})},e.closeAllDialogs=function(){s.closeAll()},e.isExpiredData=function(){if(a.startDate){var e=new Date(a.startDate),t=parseInt(24*c*60*60*1e3),o=new Date(e.getTime()+t);return Date.now()>o.getTime()?(a.$reset(),!0):!1}return!0},e.getExtension=function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e):void 0},e.uniqueString=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;8>o;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e.userValidation=function(t){return u=window.location.href,e.isExpiredData(),a.cookiesponzorme&&a.email&&a.id>0&&a.token&&a.typesponzorme===t&&a.user?(e.$storage=a,!0):(a.redirectTo=u,o.path("/login"),!1)}}])}();
!function(){"use strict";angular.module("sponzorme").directive("file",function(){return{restrict:"AE",scope:{file:"@"},link:function(i,r,e){r.bind("change",function(r){var e=r.target.files,a=e[0];i.file=a,i.$parent.file=a,i.$apply()})}}}).directive("logo",function(){return{restrict:"AE",scope:{file:"@"},link:function(i,r,e){r.bind("change",function(r){var e=r.target.files,a=e[0];i.logo=a,i.$parent.logo=a,i.$apply()})}}}).directive("rdLoading",function(){var i={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return i}).directive("stars",function(){return{restrict:"E",template:"<div></div>",link:function(i,r,e){var a,n=Math.floor(e.number),t=e.number-Math.floor(e.number);a=5>n?'<i class="material-icons orange600 md-12">star_border</i>':"",t>.48&&(a='<i class="material-icons orange600 md-12">star_half</i>');for(var o="",s="",l=0;5-n-1>l;l++)o+='<i class="material-icons orange600 md-12">star_border</i>';for(l=0;n>l;l++)s+='<i class="material-icons orange600 md-12">star_rate</i>';r.html('<span class="stars2">'+s+a+o+"</span>")},replace:!0}})}();
!function(){"use strict";angular.module("sponzorme").filter("normalize",function(){return function(e){return e?e=e.replace("&","AND").replace(/\W+/g,""):""}})}();
"use strict";!function(){function t(t,e){return{allCategories:function(){return t.get(e.getConstants().URL+"categories")}}}t.$inject=["$http","$rootScope"],angular.module("sponzorme").factory("categoryRequest",t)}();
"use strict";!function(){function t(t,e,n,o){var r=e.token;return{allEvents:function(){return t.get(o.getConstants().URL+"events")},oneEvent:function(e){return t.get(o.getConstants().URL+"events/"+e)},createEvent:function(e){return t({method:"POST",url:o.getConstants().URL+"events",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},createEventToken:function(e,r){return t({method:"POST",url:o.getConstants().URL+"events",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},deleteEvent:function(e){return t({method:"DELETE",url:o.getConstants().URL+"events/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editEventPut:function(e,a){return t({method:"PUT",url:o.getConstants().URL+"events/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(a)})}}}t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("eventRequest",t)}();
"use strict";!function(){function t(t,e){return{allEventTypes:function(){return t.get(e.getConstants().URL+"event_types")}}}t.$inject=["$http","$rootScope"],angular.module("sponzorme").factory("eventTypeRequest",t)}();
"use strict";!function(){function t(t,e){return{allInterestsCategoriesId:function(){return t.get(e.getConstants().URL+"interests_category")}}}t.$inject=["$http","$rootScope"],angular.module("sponzorme").factory("allInterestsServiceRequest",t)}();
"use strict";!function(){function t(t,e,n){return{login:function(a){var o={email:a.email,password:a.password};return t({method:"POST",url:n.getConstants().URL+"auth",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},resetPassword:function(a){var o={email:a};return t({method:"POST",url:n.getConstants().URL+"send_reset_password",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},tryActivation:function(e){return t.get(n.getConstants().URL+"verify_activation/"+e)},resendActivation:function(a){var o={email:a};return t({method:"POST",url:n.getConstants().URL+"send_activation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},updatePassword:function(a,o){return t({method:"POST",url:n.getConstants().URL+"update_password/"+a,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e(o)})},changePassword:function(a,o){return t({method:"POST",url:n.getConstants().URL+"change_password",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:e(a)})}}}t.$inject=["$http","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("loginRequest",t)}();
"use strict";!function(){function e(e,t,r,o){var n=t.token;return{createPerk:function(t){return e({method:"POST",url:o.getConstants().URL+"perks",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+n},data:r(t)})},deletePerk:function(t){return e({method:"DELETE",url:o.getConstants().URL+"perks/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+n}})}}}e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("perkRequest",e)}();
"use strict";!function(){function t(t,e,r,o){var a=e.token;return{createPerkTask:function(e){return t({method:"POST",url:o.getConstants().URL+"perk_tasks",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a},data:r(e)})},deletePerkTask:function(e){return t({method:"DELETE",url:o.getConstants().URL+"perk_tasks/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a}})}}}t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("perkTaskRequest",t)}();
"use strict";!function(){function o(o,t,n,e){var r=t.token;return{oneSponzorship:function(t){return o.get(e.getConstants().URL+"sponzorships/"+t)},createSponzorship:function(t){return o({method:"POST",url:e.getConstants().URL+"sponzorships",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(t)})},createSponzorshipToken:function(t,r){return o({method:"POST",url:e.getConstants().URL+"sponzorships",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(t)})},deleteSponzorship:function(t){return o({method:"DELETE",url:e.getConstants().URL+"sponzorships/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editSponzorshipPatch:function(t,i){return o({method:"PATCH",url:e.getConstants().URL+"sponzorships/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(i)})}}}o.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("sponzorshipRequest",o)}();
"use strict";!function(){function t(t,o,e,n){var r=o.token;return{createTaskSponzor:function(o){return t({method:"POST",url:n.getConstants().URL+"task_sponzor",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:e(o)})},deleteTaskSponzor:function(o){return t({method:"DELETE",url:n.getConstants().URL+"task_sponzor/"+o,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r}})},editTaskSponzorPatch:function(o,a){return t({method:"PATCH",url:n.getConstants().URL+"task_sponzor/"+o,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:e(a)})}}}t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("taskSponzorRequest",t)}();
"use strict";!function(){function e(e,t,r,n){var o=t.token;return{createUserInterest:function(t){return e({method:"POST",url:n.getConstants().URL+"user_interests",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(t)})},bulkUserInterest:function(t){return e({method:"PUT",url:n.getConstants().URL+"user_interests/1",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(t)})},deleteUserInterest:function(t){return e({method:"DELETE",url:n.getConstants().URL+"user_interests/"+t,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o}})}}}e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("userInterestRequest",e)}();
"use strict";!function(){function t(t,e,n,o){return{oneUser:function(n){var r=e.token;return t.defaults.headers.common.Authorization="Basic "+r,t.get(o.getConstants().URL+"users/"+n)},home:function(n){var r=e.token;return t.defaults.headers.common.Authorization="Basic "+r,t.get(o.getConstants().URL+"home/"+n)},createUser:function(e){var r="b3JnYW5pemVyQHNwb256b3IubWU6c3Bvbnpvcm1l";return t({method:"POST",url:o.getConstants().URL+"users",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+r},data:n(e)})},editUserPatch:function(r,a){var i=e.token;return t({method:"PATCH",url:o.getConstants().URL+"users/"+r,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+i},data:n(a)})},invitedUser:function(r){var a=e.token;return t({method:"POST",url:o.getConstants().URL+"invite_friend/",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+a},data:n(r)})}}}t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("userRequest",t)}();
"use strict";!function(){function e(e){return{rss:function(o){var s="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=JSON_CALLBACK&q=http://blog"+o+".sponzor.me/feeds/posts/default";return e.jsonp(s)}}}e.$inject=["$http"],angular.module("sponzorme").factory("rssRequest",e)}();
"use strict";!function(){function t(t,n,r,e){var o=n.token;return{ratingsBySponzor:function(n){return t.get(e.getConstants().URL+"ratings/sponzor/"+n)},ratingsByOrganizer:function(n){return t.get(e.getConstants().URL+"ratings/organizer/"+n)},createRating:function(n){return t({method:"POST",url:e.getConstants().URL+"ratings",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+o},data:r(n)})}}}t.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("ratingRequest",t)}();
"use strict";!function(){function e(e,t,n,r){return{getEventbriteAuth:function(t){return e.get(r.getConstants().URL+"token/eventbrite/"+t)},getMeetupAuth:function(t){return e.get(r.getConstants().URL+"token/meetup/"+t)},getEventbriteEvents:function(t){var n={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t}};return e.get("https://www.eventbriteapi.com/v3/users/me/owned_events/?token="+t,n)},getMeetupGroups:function(t){return e.get(r.getConstants().URL+"events/meetup/"+t)},getEventbriteEvent:function(t,n){var r={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+n}};return e.get(t+"?token="+n,r)}}}e.$inject=["$http","$localStorage","$httpParamSerializerJQLike","$rootScope"],angular.module("sponzorme").factory("eventbriteRequest",e)}();
"use strict";!function(){function t(t,e,o,s,n,r){return{showDemo:function(t,e){var i=introJs(),a=[];if("1"===e)for(var u=1;s+1>u;u++)a.push({element:"#step"+u,intro:o.instant("IntroSponzors.step"+u)});else for(var p=1;s+1>p;p++)a.push({element:"#step"+p,intro:o.instant("IntroOrganizers.step"+p)});i.setOption("tooltipPosition","auto"),i.setOptions({steps:a}),i.start();var c={demo:"1"};n.editUserPatch(t,c).success(function(){}),r.demo=1}}}t.$inject=["$http","$rootScope","$translate","DEMOSTEPS","userRequest","$localStorage"],angular.module("sponzorme").factory("demoRequest",t)}();
"use strict";!function(){function t(t,o,n,c){t.errorActivation=!1,t.successActivation=!1,c.tryActivation(o.token).success(function(o){"200"===o.code&&(t.successActivation=!0)}).error(function(){t.errorActivation=!0})}t.$inject=["$scope","$routeParams","$translate","loginRequest"],angular.module("sponzorme").controller("ActivationController",t)}();
"use strict";!function(){function e(e,o,n,r,t,s,i,a,p){e.eventLoaded=!1;var u;e.todayDate=(new Date).getTime(),s.oneEvent(o.eventId).then(function(o){e.eventLoaded=!0,e.currentEvent=o.data.event,e.currentEvent.starts=new Date(e.currentEvent.starts).getTime(),e.eventURL=t.absUrl()},function(){e.eventLoaded=!0}),"1"!==r.typesponzorme||p.isExpiredData()?"0"!==r.typesponzorme||p.isExpiredData()?(e.isSponzor=!1,e.isNoLogged=!0):(e.isSponzor=!1,e.isNoLogged=!1):(e.isSponzor=!0,e.isNoLogged=!1),e.sendToLogin=function(){r.redirectTo=e.eventURL,t.path("/login")},e.formCreateSponzorship=function(o){e.newSponzorship={organizer_id:e.currentEvent.user_organizer.id,sponzor_id:r.id,event_id:e.currentEvent.id,perk_id:o.id,cause:"",status:0},e.selectedPerk=o,i.open({template:"views/templates/formCreateSponzorship.html",scope:e})},e.createSponzorship=function(){p.closeAllDialogs(),p.showLoading(),e.user=JSON.parse(r.user),e.user.pendingSponzorships=e.user.sponzorships.filter(function(e){return"0"===e.status?e:void 0}),a.createSponzorship(e.newSponzorship).then(function(o){e.user.sponzorships.push(o.data.Sponzorship),e.user.pendingSponzorships.push(o.data.Sponzorship),r.user=JSON.stringify(e.user),u={to:e.currentEvent.user_organizer.id,text:n.instant("NOTIFICATIONS.NewSponzorshipRequestfor")+e.currentEvent.title,link:"#/organizers/sponzors"},p.sendFirebaseNotification(u,e.currentEvent.user_organizer.id),p.closeAllDialogs(),p.showDialog("success","sponzorshipCreatedSuccesfuly",!1)},function(e){p.closeAllDialogs(),409===e.status?p.showDialog("error","alreadySponzoring",!1):p.showDialog("error","youCanNotSponzorThisEvent",!1)})}}e.$inject=["$scope","$routeParams","$translate","$localStorage","$location","eventRequest","ngDialog","sponzorshipRequest","$rootScope"],angular.module("sponzorme").controller("EventPageController",e)}();
"use strict";!function(){function o(o,s,a,l,e){o.forgotPassword=function(){s.showLoading(),e.resetPassword(o.email).then(function(){s.closeAllDialogs(),s.showDialog("success","PasswordResetLinkSent",!1)},function(){s.closeAllDialogs(),s.showDialog("error","InvalidEmail",!1)})},o.resetPassword=function(){if(s.showLoading(),o.password===o.passwordConfirmation){var a={email:o.email,password:o.password,password_confirmation:o.passwordConfirmation};e.updatePassword(l.tokenReset,a).then(function(o){s.closeAllDialogs(),s.showDialog("success","PasswordChangedSuccesfully","/login")},function(o){s.closeAllDialogs(),s.showDialog("error","InvalidData",!1)})}else s.closeAllDialogs(),s.showDialog("error","PasswordNoMatch",!1)}}o.$inject=["$scope","$rootScope","$translate","$routeParams","loginRequest"],angular.module("sponzorme").controller("ForgotController",o)}();
"use strict";!function(){function t(t,o,n,c){t.errorActivation=!1,t.successActivation=!1,c.tryActivation(o.token).success(function(o){"200"===o.code&&(t.successActivation=!0)}).error(function(){t.errorActivation=!0})}t.$inject=["$scope","$routeParams","$translate","loginRequest"],angular.module("sponzorme").controller("ActivationController",t)}();
"use strict";!function(){function e(e,o,a,s,n,t,r,i,l){("en"===r.lang||"es"===r.lang||"pt"===r.lang)&&o.use(r.lang);var d=s.redirectTo;e.sendfrom=function(){e.email&&e.password&&(e.objuser={},e.objuser.email=e.email,e.objuser.password=e.password,e.objuser.password_confirmation=e.passwordtwo,e.objuser.lang=i.currentLanguage(),e.loagind=!0,i.showLoading(),a.login(e.objuser).success(function(a){if("1"===a.user.activated){var r=new Date;r.setDate(r.getDate()+1),s.cookiesponzorme=btoa(e.email+":"+e.password),s.typesponzorme=a.user.type,s.token=btoa(e.email+":"+e.password),s.id=a.user.id,s.email=a.user.email,s.demo=a.user.demo,s.image=a.user.image,s.startDate=Date.now(),s.rating=a.rating,e.$storage=s,o.use(a.user.lang),e.loagind=!1,l.home(s.id).then(function(e){s.lastUpdate=(new Date).getTime(),i.closeAllDialogs(),s.user=JSON.stringify(e.data.data.user),s.events=[],e.data.data.events&&(s.events=JSON.stringify(e.data.data.events)),"1"===a.user.type?d&&-1===d.indexOf("login")&&d.indexOf("sponzors")>-1||d&&d.indexOf("/#/event/")>-1?window.location.href=d:n.path("/sponzors/dashboard"):d&&-1===d.indexOf("login")&&d.indexOf("organizers")>-1||d&&d.indexOf("/#/event/")>-1?window.location.href=d:n.path("/organizers/dashboard")},function(e){i.closeAllDialogs(),i.showDialog("error","canNotGetUserInfo",!1)})}else e.loagind=!1,i.closeAllDialogs(),e.message="unactivatedAccount",t.open({template:"views/templates/unactivatedAccountDialog.html",showClose:!1,scope:e})}).error(function(){e.loagind=!1,i.closeAllDialogs(),i.showDialog("error","invalidCredentials",!1)}))}}e.$inject=["$scope","$translate","loginRequest","$localStorage","$location","ngDialog","$routeParams","$rootScope","userRequest"],angular.module("sponzorme").controller("LoginController",e)}();
"use strict";!function(){function o(o,t,e,l,n){n.tolsctive="active",l.$reset(),e.path("/login")}o.$inject=["$scope","$translate","$location","$localStorage","$rootScope"],angular.module("sponzorme").controller("LogoutController",o)}();
"use strict";!function(){function e(e,n,o,t){e.error_log=[],e.resend=function(){e.loagind=!0,o.resendActivation(e.email).success(function(){e.loagind=!1,e.error_log[0]="ActivationLinkResent",t.open({template:"templateId",scope:e})}).error(function(){e.error_log[0]="InvalidEmail",e.loagind=!1,t.open({template:"templateId",scope:e})})}}e.$inject=["$scope","$translate","loginRequest","ngDialog"],angular.module("sponzorme").controller("ResendController",e)}();
"use strict";!function(){function e(e,t,s,a,o,r,n,i,u){e.steps=[!1,!1,!1],e.startCustomization=function(){s.email&&s.id&&s.newUser?(e.userData={},e.categories=[],e.interestselectarray=[],e.email=s.email,e.id=s.id,e.newUser=s.newUser,e.showStep(0),r.allCategories().then(function(t){e.categories=t.data.categories},function(){e.categories=[]})):(s.$reset(),i.path("/"))},e.showStep=function(t){e.steps=[!1,!1,!1],e.steps[t]=!0},e.sendfrom=function(){u.showLoading(),e.objuser={},e.objuser.age=e.userData.age,e.objuser.sex=e.userData.sex,e.objuser.lang=e.userData.lang,e.objuser.location=e.userData.location.formatted_address,e.objuser.location_reference=e.userData.location.reference,e.objuser.image="https://s3-us-west-2.amazonaws.com/sponzormewebappimages/user_default.jpg",e.loagind=!0,a.editUserPatch(s.id,e.objuser).success(function(t){"Updated"===t.message&&e.showStep(1),u.closeAllDialogs()})},e.showInterests=function(t){e.idselect=t},e.interestselect=function(t){var a=e.interestselectarray.indexOf(t);if(-1===a){var o={user_id:s.id,interest_id:t};e.interestselectarray.push(o)}else e.interestselectarray.splice(a,1)},e.submitCategoryInfo=function(){u.showLoading();var t={interests:e.interestselectarray};n.bulkUserInterest(t).then(function(t){u.closeAllDialogs(),e.showStep(2)})},e.startCustomization()}e.$inject=["$scope","$translate","$localStorage","userRequest","allInterestsServiceRequest","categoryRequest","userInterestRequest","$location","$rootScope"],angular.module("sponzorme").controller("CustomizationController",e)}();
"use strict";!function(){function e(e,t,o,a,s,n,r){e.trustSrc=function(e){return r.trustAsResourceUrl(e)},e.downloadCalendar=function(t){e.starts=new Date(t.event.starts).toISOString().replace(":","").replace("-","").replace(".",""),e.ends=new Date(t.event.ends).toISOString().replace(":","").replace("-","").replace(".",""),e.ends=e.ends.replace(":","").replace("-","").replace(".","").replace("000Z",""),e.starts=e.starts.replace(":","").replace("-","").replace(".","").replace("000Z",""),e.currentSponzorship=t,a.open({template:"views/templates/addToCalendarDialog.html",showClose:!1,scope:e})},e.openLocation=function(t){e.currentEvent=t.event,e.mapSrc="https://www.google.com/maps/embed/v1/place?key=AIzaSyDxXJIUmt5IDbqXuqNpD4ZssRl6aXBRhcU&q="+encodeURIComponent(e.currentEvent.location),a.open({template:"views/templates/locationDialog.html",scope:e,showClose:!0})},e.seeCause=function(t){e.cause=t.cause,e.status=t.status,a.open({template:"views/templates/sponzorshipCauseDialog.html",showClose:!1,scope:e})},e.menuprincipal="views/sponzors/menu.html"}e.$inject=["$scope","$translate","$localStorage","ngDialog","$location","$rootScope","$sce"],angular.module("sponzorme").controller("SponzorsMasterController",e)}();
"use strict";!function(){function e(e,r,o,s,a,t,n,l){("en"===n.lang||"es"===n.lang||"pt"===n.lang)&&r.use(n.lang),e.sendfrom=function(){var r=l.currentLanguage();void 0!==e.passwordone||void 0!==e.passwordtwo?e.passwordone===e.passwordtwo&&e.passwordtwo.length>6?(e.objuser={},e.objuser.email=e.email,e.objuser.password=e.passwordone,e.objuser.password_confirmation=e.passwordtwo,e.objuser.lang=r,e.objuser.type=1,e.objuser.name=e.name+" "+e.lastname,e.loagind=!0,l.showLoading(),o.createUser(e.objuser).success(function(r){"Inserted"===r.message&&(t.cookiesponzorme=btoa(e.email+":"+e.passwordone),t.token=btoa(e.email+":"+e.passwordone),t.typesponzorme=r.User.type,t.id=r.User.id,t.email=r.User.email,t.demo=r.User.demo,t.startDate=Date.now(),t.newUser=!0,t.$apply(),e.loagind=!1,a.path("/customization"),l.closeAllDialogs())}).error(function(r){"Not inserted"===r.message&&(e.errorMessages=[],r.error.email&&("The email has already been taken."===r.error.email[0]?(e.errorMessages.push("errorEmailAlreadyTaken"),e.didYouForgotPassword=!0):e.errorMessages.push("errorRegisterEmail")),r.error.name&&e.errorMessages.push("errorRegisterName"),r.error.lastname&&e.errorMessages.push("errorRegisterLastname"),r.error.password&&e.errorMessages.push("errorRegisterPassword")),e.loagind=!1,l.closeAllDialogs(),s.open({template:"views/templates/multipleErrorDialog.html",showClose:!1,scope:e})})):e.passwordtwo.length>6?l.showDialog("error","errorRegisterPasswordNoMatch",!1):l.showDialog("error","errorRegisterShortPassword",!1):l.showDialog("error","errorRegisterPasswordNoEmpty",!1)}}e.$inject=["$scope","$translate","userRequest","ngDialog","$location","$localStorage","$routeParams","$rootScope"],angular.module("sponzorme").controller("SponzorsCreateController",e)}();
"use strict";!function(){function s(s,o,n,e){e.userValidation("1")&&(s.section={route:"Events / Follwing",title:"Following Events"},s.user=JSON.parse(o.user),s.user.pendingSponzorships||(s.user.pendingSponzorships=s.user.sponzorships.filter(function(s){return"0"===s.status?s:void 0}),o.user=JSON.stringify(s.user)),s.showTasks=function(o){s.currentSponzorship=o,s.tasksSponzor=o.perk.tasks.filter(function(s){return"0"===s.type?s:void 0})},s.deleteSponzorship=function(r,i){e.showLoading(),n.deleteSponzorship(r).then(function(n){var p={to:s.user.pendingSponzorships[i].organizer.id,text:s.user.name+$translate.instant("NOTIFICATIONS.SponzorshipCancell")+s.user.pendingSponzorships[i].event.title,link:"#/organizers/sponzors"};e.sendFirebaseNotification(p,s.user.pendingSponzorships[i].organizer.id),s.user.pendingSponzorships.splice(i,1),s.user.sponzorships=s.user.sponzorships.filter(function(s){return s.id!==r?s:void 0}),o.user=JSON.stringify(s.user),s.user.pendingSponzorships[0]&&s.showTasks(s.user.pendingSponzorships[0]),e.closeAllDialogs()},function(){e.closeAllDialogs(),e.showDialog("error","problem",!1)})},s.user.pendingSponzorships[0]&&s.showTasks(s.user.pendingSponzorships[0]))}s.$inject=["$scope","$localStorage","sponzorshipRequest","$rootScope"],angular.module("sponzorme").controller("SponzorsFollowingController",s)}();
"use strict";!function(){function e(e,i,n,o,s){o.userValidation("1")&&(e.section={route:"InviteFriend",title:"Invite Friend"},e.friend={},e.friend.email="",e.friend.message="",e.emailuser=s.email,e.invitefriend=function(){e.loadingInvite=!0,o.showLoading(),e.objuserinv={},e.objuserinv.user_id=s.id,e.objuserinv.email=e.friend.email,e.objuserinv.message=e.friend.message,n.invitedUser(e.objuserinv).success(function(i){e.friend.tempEmail=e.friend.email,e.friend.email="",e.friend.message="","200"===i.code?(o.closeAllDialogs(),o.showDialog("success","inviteFiendEmailSent",!1)):(o.closeAllDialogs(),o.showDialog("error","problem",!1)),e.loadingInvite=!1})},e.menuprincipal="views/sponzors/menu.html")}e.$inject=["$scope","$translate","userRequest","$rootScope","$localStorage"],angular.module("sponzorme").controller("SponzorsFriendController",e)}();
"use strict";!function(){function e(e,o,n,t,s,r,i,a,u,c){if(i.userValidation("1")){if(e.section={route:"Dashboard",title:"Dashboard"},"0"===n.demo&&c(function(){u.showDemo(n.id,n.typesponzorme)},1e3),e.user=JSON.parse(n.user),e.balance=0,e.user.pendingSponzorships=e.user.sponzorships.filter(function(e){return"0"===e.status?e:void 0}),e.user.acceptedSponzorships=e.user.sponzorships.filter(function(o){return o.status>0?(e.balance=parseInt(o.perk.usd)+parseInt(e.balance),o.event.ends=new Date(o.event.ends).getTime(),o):void 0}),n.events){var p=JSON.parse(n.events);e.search=p.filter(function(e){return"ljsadljf3289uojklfhasd"!==e.location_reference&&new Date(e.starts).getTime()>(new Date).getTime()?e:void 0})}n.user=JSON.stringify(e.user),e.trustSrc=function(e){return a.trustAsResourceUrl(e)},e.getAllEvents=function(){e.searchLoading=!0,t.allEvents().then(function(o){n.events=JSON.stringify(o.data.data.events),e.search=[],e.search=o.data.data.events.filter(function(e){return"ljsadljf3289uojklfhasd"!==e.location_reference&&new Date(e.starts).getTime()>(new Date).getTime()?e:void 0}),e.searchLoading=!1},function(){e.searchLoading=!1})},e.openLocation=function(o){e.currentEvent=o,e.mapSrc="https://www.google.com/maps/embed/v1/place?key=AIzaSyDxXJIUmt5IDbqXuqNpD4ZssRl6aXBRhcU&q="+encodeURIComponent(e.currentEvent.location),s.open({template:"views/templates/locationDialog.html",scope:e,showClose:!0})},e.showPerks=function(o){e.showForm=!1,e.selectedPerk=!1,e.currentEvent=o,s.open({template:"views/templates/eventPerksDialog.html",scope:e,showClose:!0})},e.formCreateSponzorship=function(o){e.newSponzorship={organizer_id:e.currentEvent.user_organizer.id,sponzor_id:n.id,event_id:e.currentEvent.id,perk_id:o.id,cause:"",status:0},e.selectedPerk=o},e.showCauseForm=function(){e.showForm=!0},e.createSponzorship=function(){i.closeAllDialogs(),i.showLoading(),r.createSponzorship(e.newSponzorship).then(function(t){e.user.sponzorships.push(t.data.Sponzorship),e.user.pendingSponzorships.push(t.data.Sponzorship),n.user=JSON.stringify(e.user);var s={to:e.currentEvent.user_organizer.id,text:o.instant("NOTIFICATIONS.NewSponzorshipRequestfor")+e.currentEvent.title,link:"#/organizers/sponzors"};i.sendFirebaseNotification(s,e.currentEvent.user_organizer.id),i.closeAllDialogs(),i.showDialog("success","sponzorshipCreatedSuccesfuly",!1)},function(e){i.closeAllDialogs(),409===e.status?i.showDialog("error","alreadySponzoring",!1):i.showDialog("error","youCanNotSponzorThisEvent",!1)})},e.menuprincipal="views/sponzors/menu.html"}}e.$inject=["$scope","$translate","$localStorage","eventRequest","ngDialog","sponzorshipRequest","$rootScope","$sce","demoRequest","$timeout"],angular.module("sponzorme").controller("SponzorsMainController",e)}();
"use strict";!function(){function e(e,s,t,o,n,r,i,c,a,l,u){r.userValidation("1")&&(e.section={route:"Settings",title:"Settings"},e.user=JSON.parse(o.user),a.allInterestsCategoriesId().success(function(s){e.interests=s.InterestCategory}),e.removeUserInterest=function(s,t){e.user.interests.splice(s,1),u.deleteUserInterest(t).then(function(){})},e.addUserInterests=function(s){if(e.loadingSaveInterest=!0,s&&s.name){var t=!1;if(e.user.interests)for(var n=0;n<e.user.interests.length;n++)if(e.user.interests[n].interest_id===s.id_interest){t=!0,e.selected="",e.loadingSaveInterest=!1,r.showDialog("error","interestAlreadyInList",!1);break}if(!t){var i={user_id:o.id,interest_id:s.id_interest};u.createUserInterest(i).then(function(s){e.user.interests.push(s.data.UserInterest),o.user=JSON.stringify(e.user),e.selected="",e.loadingSaveInterest=!1},function(){e.loadingSaveInterest=!1,r.showDialog("error","invalidInterestSelection",!1),e.selected=""})}}else e.loadingSaveInterest=!1,r.showDialog("error","invalidInterestSelection",!1),e.selected=""},e.file=!1,e.editAccount=function(){if(r.showLoading(),e.user.location!==e.locationUser&&(e.user.location=e.locationUser.formatted_address,e.user.location_reference=e.locationUser.place_id),e.user.location=e.user.location.formatted_address,e.file){e.creds={bucket:r.getConstants().AMAZONBUCKET,access_key:r.getConstants().AMAZONKEY,secret_key:r.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:e.creds.access_key,secretAccessKey:e.creds.secret_key}),AWS.config.region=r.getConstants().AMAZONBUCKETREGION;var s=new AWS.S3({params:{Bucket:e.creds.bucket}}),n=btoa(r.uniqueString()+(new Date).getTime()+r.uniqueString()).replace("=",r.uniqueString())+"."+r.getExtension(e.file.name),i={Key:n,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};s.putObject(i,function(s,i){s||(o.image=r.getConstants().AMAZONBUCKETURL+n,e.user.image=r.getConstants().AMAZONBUCKETURL+n,t.editUserPatch(o.id,e.user).then(function(s){o.user=JSON.stringify(e.user),e.file=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)}))})}else t.editUserPatch(o.id,e.user).then(function(s){o.user=JSON.stringify(e.user),e.file=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)})},e.logo=!1,e.updateDetails=function(){if(r.showLoading(),e.logo){e.creds={bucket:r.getConstants().AMAZONBUCKET,access_key:r.getConstants().AMAZONKEY,secret_key:r.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:e.creds.access_key,secretAccessKey:e.creds.secret_key}),AWS.config.region=r.getConstants().AMAZONBUCKETREGION;var s=new AWS.S3({params:{Bucket:e.creds.bucket}}),n=btoa(r.uniqueString()+(new Date).getTime()+r.uniqueString()).replace("=",r.uniqueString())+"."+r.getExtension(e.logo.name),i={Key:n,ContentType:e.logo.type,Body:e.logo,ServerSideEncryption:"AES256"};s.putObject(i,function(s,i){s||(e.account.logo=r.getConstants().AMAZONBUCKETURL+n,e.$digest(),t.editUserPatch(o.id,e.account).success(function(s){e.account=s.User,e.logo=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)}).error(function(e){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)}))})}else t.editUserPatch(o.id,e.user).then(function(s){o.user=JSON.stringify(e.user),e.file=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)})},e.resetPassword=function(){if(e.password===e.passwordConfirmation){r.showLoading();var s={email:o.email,password:e.password,password_confirmation:e.passwordConfirmation};l.changePassword(s,o.token).then(function(s){r.closeAllDialogs(),o.token=btoa(o.email+":"+e.passwordConfirmation),r.showDialog("success","PasswordChangedSuccesfully",!1),e.password="",e.passwordConfirmation=""},function(){r.closeAllDialogs(),r.showDialog("error","InvalidNewPassword",!1)})}else r.showDialog("error","PasswordNoMatch",!1)},e.menuprincipal="views/sponzors/menu.html")}e.$inject=["$scope","$translate","userRequest","$localStorage","$location","$rootScope","ngDialog","categoryRequest","allInterestsServiceRequest","loginRequest","userInterestRequest"],angular.module("sponzorme").controller("SponzorsSettingsController",e)}();
"use strict";!function(){function s(s,o,e,r,n,t,a,p){a.userValidation("1")&&(s.section={route:"Events / Sponzoring",title:"Sponzoring Events"},s.todayDate=(new Date).getTime(),s.user=JSON.parse(n.user),s.user.acceptedSponzorships||(s.user.acceptedSponzorships=s.user.sponzorships.filter(function(s){return s.status>"0"?(s.event.ends=new Date(s.event.ends).getTime(),s):void 0}),n.user=JSON.stringify(s.user)),s.saveStatus=function(){for(var o=0;o<s.user.acceptedSponzorships.length;o++)if(s.user.acceptedSponzorships[o].id===s.currentSponzorship.id){s.user.acceptedSponzorships[o]=s.currentSponzorship;break}for(o=0;o<s.user.sponzorships.length;o++)if(s.user.sponzorships[o].id===s.currentSponzorship.id){s.user.sponzorships[o]=s.currentSponzorship;break}n.user=JSON.stringify(s.user)},s.showTasks=function(o){s.currentSponzorship=o,o.task_sponzor&&(s.organizerTasks=o.task_sponzor.filter(function(s){return"0"===s.task.type?s:void 0}),s.sponzorTasks=o.task_sponzor.filter(function(s){return"1"===s.task.type?s:void 0}))},s.paymentInformation=function(o){s.PAYPALCOMPLETERETURNURL=a.getConstants().PAYPALCOMPLETERETURNURL,s.PAYPALIPNRETURNURL=a.getConstants().PAYPALIPNRETURNURL,s.SANDBOX=a.getConstants().PAYPALSANDBOX,s.PAYPALEMAIL=a.getConstants().PAYPALEMAIL,s.sponzorship=o,s.paymentValue=o.perk.usd,s.fee=parseFloat(o.perk.usd*a.getConstants().FEE+a.getConstants().XOOMRATE),s.paymentTotal=parseFloat(o.perk.usd)+parseFloat(s.fee),t.open({scope:s,template:"views/templates/prePaymentInfo.html",showClose:!0})},s.changeStatus=function(o,r){s.sponzorTasks[o].loading=!0;var n=s.sponzorTasks[o].id,t={status:r};e.editTaskSponzorPatch(n,t).then(function(e){s.sponzorTasks[o].loading=!1,s.sponzorTasks[o].status=r,s.saveStatus()},function(){s.sponzorTasks[o].loading=!1,a.showDialog("error","errorUpdatingTaskStatus",!1)})},s.deleteTaskSponzor=function(o){s.sponzorTasks[o].loading=!0;var r=s.sponzorTasks[o].id;e.deleteTaskSponzor(r).then(function(e){for(var n=0;n<s.currentSponzorship.task_sponzor.length;n++)if(s.currentSponzorship.task_sponzor[n].id===r){s.currentSponzorship.task_sponzor.splice(n,1);break}s.sponzorTasks.splice(o,1),s.saveStatus()},function(){s.sponzorTasks[o].loading=!1,a.showDialog("error","errorRemovingTaskSponzor",!1)})},s.showTaskForm=function(){s.todo={type:1,status:0,perk_id:s.currentSponzorship.perk.id,event_id:s.currentSponzorship.event_id,sponzorship_id:s.currentSponzorship.id,user_id:n.id,organizer_id:s.currentSponzorship.organizer.id,sponzor_id:n.id,title:"",description:""},t.open({template:"views/templates/newTaskForm.html",scope:s,showClose:!1})},s.addTask=function(){a.closeAllDialogs(),a.showLoading(),e.createTaskSponzor(s.todo).then(function(o){s.currentSponzorship.perk.tasks.push(o.data.PerkTask),s.currentSponzorship.task_sponzor.push(o.data.TaskSponzor),s.saveStatus(),s.showTasks(s.currentSponzorship),a.closeAllDialogs(),a.showDialog("success","taskCreatedSuccesfuly",!1)},function(){a.closeAllDialogs(),a.showDialog("error","errorCreatingTask",!1)})},s.user.acceptedSponzorships.length&&s.showTasks(s.user.acceptedSponzorships[0]))}s.$inject=["$scope","$location","taskSponzorRequest","sponzorshipRequest","$localStorage","ngDialog","$rootScope","ratingRequest"],angular.module("sponzorme").controller("SponzorsSponzorshipsController",s)}();
"use strict";!function(){function o(o,s,r,n,e,i,t,p){e.userValidation("1")&&t.sponzorshipId&&(o.section={route:"Sponzorships / Rating",title:"Sponzorship Rating"},o.loadingForm=!0,o.user=JSON.parse(i.user),o.user.acceptedSponzorships||(o.user.acceptedSponzorships=o.user.sponzorships.filter(function(o){return o.status>"0"?(o.event.ends=new Date(o.event.ends).getTime(),o):void 0}),i.user=JSON.stringify(o.user)),o.user.acceptedSponzorships[t.sponzorshipId].ratings[0]&&o.user.acceptedSponzorships[t.sponzorshipId].ratings[0].sponzor_id===i.id&&"1"===o.user.acceptedSponzorships[t.sponzorshipId].ratings[0].type||o.user.acceptedSponzorships[t.sponzorshipId].ratings[1]&&o.user.acceptedSponzorships[t.sponzorshipId].ratings[1].sponzor_id===i.id&&"1"===o.user.acceptedSponzorships[t.sponzorshipId].ratings[1].type?e.showDialog("error","ratingAlreadyRated","sponzors/sponzoring"):o.rating={sponzorship_id:o.user.acceptedSponzorships[t.sponzorshipId].id,type:1,sponzor_id:o.user.acceptedSponzorships[t.sponzorshipId].sponzor_id,organizer_id:o.user.acceptedSponzorships[t.sponzorshipId].organizer_id,other:""},o.saveRating=function(){e.showLoading(),o.rating.other&&(o.rating.question5="Other: "+o.rating.other),p.createRating(o.rating).then(function(r){o.user.acceptedSponzorships[t.sponzorshipId].ratings.push(r.data.Rating),i.user=JSON.stringify(o.user);var n={to:r.data.Rating.organizer_id,text:s.instant("NOTIFICATIONS.OrganizerRated")+o.user.name,link:"#/profile/"+r.data.Rating.organizer_id};e.sendFirebaseNotification(n,r.data.Rating.organizer_id),o.rating={},e.closeAllDialogs(),e.showDialog("success","ratingSponzorSuccess","sponzors/sponzoring")},function(s){o.loadingForm=!1,e.closeAllDialogs(),e.showDialog("error","invalidRateInfo",!1)})},o.menuprincipal="views/sponzors/menu.html")}o.$inject=["$scope","$translate","userRequest","ngDialog","$rootScope","$localStorage","$routeParams","ratingRequest"],angular.module("sponzorme").controller("SponzorsRatingController",o)}();
"use strict";!function(){function e(e,r,o,s,a,t,n,l,i,d){("en"===i.lang||"es"===i.lang||"pt"===i.lang)&&r.use(i.lang),e.sendfrom=function(){void 0!==e.passwordone||void 0!==e.passwordtwo?e.passwordone===e.passwordtwo&&e.passwordtwo.length>6?(e.objuser={},e.objuser.email=e.email,e.objuser.password=e.passwordone,e.objuser.password_confirmation=e.passwordtwo,e.objuser.lang=d.currentLanguage(),e.objuser.type=0,e.objuser.name=e.name+" "+e.lastname,e.loagind=!0,d.showLoading(),o.createUser(e.objuser).then(function(r){t.cookiesponzorme=btoa(e.email+":"+e.passwordone),t.token=btoa(e.email+":"+e.passwordone),t.typesponzorme=r.data.User.type,t.id=r.data.User.id,t.email=r.data.User.email,t.demo=r.data.User.demo,t.startDate=Date.now(),t.newUser=!0,e.loagind=!1,a.path("/customization"),d.closeAllDialogs()},function(r){e.errorMessages=[],r.data.error.email&&("The email has already been taken."===r.data.error.email[0]?(e.errorMessages.push("errorEmailAlreadyTaken"),e.didYouForgotPassword=!0):e.errorMessages.push("errorRegisterEmail")),r.data.error.name&&e.errorMessages.push("errorRegisterName"),r.data.error.lastname&&e.errorMessages.push("errorRegisterLastname"),r.data.error.password&&e.errorMessages.push("errorRegisterPassword"),e.loagind=!1,d.closeAllDialogs(),s.open({template:"views/templates/multipleErrorDialog.html",showClose:!1,scope:e})})):e.passwordtwo.length>6?d.showDialog("error","errorRegisterPasswordNoMatch",!1):d.showDialog("error","errorRegisterShortPassword",!1):d.showDialog("error","errorRegisterPasswordNoEmpty",!1)}}e.$inject=["$scope","$translate","userRequest","ngDialog","$location","$localStorage","eventRequest","perkRequest","$routeParams","$rootScope"],angular.module("sponzorme").controller("OrganizersCreateController",e)}();
"use strict";!function(){function e(e,r,s,t,n,o,i){i.userValidation("0")&&(e.section={route:"Events",title:"Events"},e.showTasks=function(r){if(e.currentPerk=r,e.currentPerk.tasks.length){var s=e.currentPerk.tasks.filter(function(e){return"0"===e.type?e:void 0});r.tasks={},r.tasks=s}},e.showPerks=function(r){e.currentEvent=r,e.currentPerk={},e.currentEvent.perks.length?e.showTasks(e.currentEvent.perks[0]):(e.currentEvent.perks=[],e.currentEvent.perks.tasks=[])},e.imageEvent=function(r){e.currentImage=r,n.open({template:"views/templates/eventImage.html",scope:e,showClose:!1})},e.hasSponzorship=function(r){for(var s=0;s<e.user.sponzorships_like_organizer;s++)if(e.user.sponzorships_like_organizer[s].event.id===r)return!0;return!1},e.removeEvent=function(r){i.showLoading(),e.hasSponzorship(e.user.events[r].id)?(i.closeAllDialogs(),i.showDialog("error","eventDeletingEventHasSponzorship",!1)):t.deleteEvent(e.user.events[r].id).then(function(t){e.user.events.splice(r,1),s.user=JSON.stringify(e.user),e.user.events[0]?(e.currentEvent=e.user.events[0],e.currentPerk=e.user.events[0].perks[0]):(e.currentEvent={},e.currentPerk={}),i.closeAllDialogs(),i.showDialog("success","eventDeleteSuccesfully",!1)},function(e){i.closeAllDialogs(),i.showDialog("error","errorDeletingEvent",!1)})},e.showTaskForm=function(r,t){e.todo={},e.todo.perk_id=r.id,e.todo.event_id=t.id,e.todo.status=0,e.todo.user_id=s.id,e.todo.type=0,e.todo.title="",e.todo.description="",n.open({template:"views/templates/newTaskForm.html",scope:e,showClose:!1})},e.addTask=function(){i.closeAllDialogs(),i.showLoading(),o.createPerkTask(e.todo).then(function(r){e.todo.id=r.data.PerkTask.id;for(var t=0;t<e.user.events.length;t++)if(e.user.events[t].id===r.data.PerkTask.event_id){for(var n=0;n<e.user.events[t].perks.length;n++)if(e.user.events[t].perks[n].id===r.data.PerkTask.perk_id){e.user.events[t].perks[n].tasks.push(r.data.PerkTask);break}break}e.user.sponzorships_like_organizer=r.data.sponzorships_like_organizer,s.user=JSON.stringify(e.user),i.closeAllDialogs(),e.todo={}},function(e){i.closeAllDialogs(),i.showDialog("error","errorCreatingTask",!1)})},e.removeTask=function(r,t){e.currentPerk.tasks[t].loading=!0,o.deletePerkTask(r).then(function(r){e.user.sponzorships_like_organizer=r.data.sponzorships_like_organizer,e.currentPerk.tasks.splice(t,1),s.user=JSON.stringify(e.user)},function(){e.currentPerk.tasks[t].loading=!1,i.closeAllDialogs(),i.showDialog("error","errorDeletingTask",!1)})},e.user=JSON.parse(s.user),e.user.events.length&&(e.currentEvent=e.user.events[0],e.currentEvent.perks.length&&e.showPerks(e.currentEvent)),e.menuprincipal="views/organizers/menu.html")}e.$inject=["$scope","$translate","$localStorage","eventRequest","ngDialog","perkTaskRequest","$rootScope"],angular.module("sponzorme").controller("OrganizersEventsController",e)}();
"use strict";!function(){function e(e,i,n,r,o){o.userValidation("0")&&(e.section={route:"InviteFriend",title:"Invite Friend"},e.friend={},e.friend.email="",e.friend.message="",e.emailuser=n.email,e.invitefriend=function(){e.loadingInvite=!0,o.showLoading(),e.objuserinv={},e.objuserinv.user_id=n.id,e.objuserinv.email=e.friend.email,e.objuserinv.message=e.friend.message,r.invitedUser(e.objuserinv).success(function(i){e.friend.tempEmail=e.friend.email,e.friend.email="",e.friend.message="","200"===i.code?(o.closeAllDialogs(),o.showDialog("success","inviteFiendEmailSent",!1)):(o.closeAllDialogs(),o.showDialog("error","problem",!1)),e.loadingInvite=!1})},e.menuprincipal="views/organizers/menu.html")}e.$inject=["$scope","$translate","$localStorage","userRequest","$rootScope"],angular.module("sponzorme").controller("OrganizersFriendController",e)}();
"use strict";!function(){function e(e,s,r,n,o,t,a){o.userValidation("0")&&(e.section={route:"Dashboard",title:"Dashboard"},"0"===r.demo&&a(function(){t.showDemo(r.id,r.typesponzorme)},1e3),e.loadingevents=!1,e.loadingrss=!0,e.user=JSON.parse(r.user),e.user.balance=0,angular.forEach(e.user.sponzorships_like_organizer,function(s){"1"===s.status&&(e.user.balance=parseInt(e.user.balance)+parseInt(s.perk.usd))}),e.user.events&&(e.currentEvent=e.user.events[0]),e.showPerk=function(s){e.currentEvent=s},e.rss=[],n.rss(o.currentLanguage()).success(function(s){e.rss=s.responseData.feed.entries,e.loadingrss=!1}).error(function(){e.loadingrss=!1,e.noRssMessage=!0}),e.menuprincipal="views/organizers/menu.html")}e.$inject=["$scope","$translate","$localStorage","rssRequest","$rootScope","demoRequest","$timeout"],angular.module("sponzorme").controller("OrganizersMainController",e)}();
"use strict";!function(){function e(e,s,t,n,r,o,i,a){r.userValidation("0")&&(e.section={route:"Settings",title:"Settings"},e.user=JSON.parse(n.user),o.allInterestsCategoriesId().success(function(s){e.interests=s.InterestCategory}),e.removeUserInterest=function(s,t){e.user.interests.splice(s,1),a.deleteUserInterest(t).then(function(){})},e.addUserInterests=function(s){if(e.loadingSaveInterest=!0,s&&s.name){var t=!1;if(e.user.interests)for(var o=0;o<e.user.interests.length;o++)if(e.user.interests[o].interest_id===s.id_interest){t=!0,e.selected="";break}if(!t){var i={user_id:n.id,interest_id:s.id_interest};a.createUserInterest(i).then(function(s){e.user.interests.push(s.data.UserInterest),n.user=JSON.stringify(e.user),e.selected="",e.loadingSaveInterest=!1})}}else e.loadingSaveInterest=!1,r.showDialog("error","invalidInterestSelection",!1),e.selected=""},e.file=!1,e.editAccount=function(){if(r.showLoading(),e.user.location!==e.locationUser&&(e.user.location=e.locationUser.formatted_address,e.user.location_reference=e.locationUser.place_id),e.user.location=e.user.location.formatted_address,e.file){e.creds={bucket:r.getConstants().AMAZONBUCKET,access_key:r.getConstants().AMAZONKEY,secret_key:r.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:e.creds.access_key,secretAccessKey:e.creds.secret_key}),AWS.config.region=r.getConstants().AMAZONBUCKETREGION;var s=new AWS.S3({params:{Bucket:e.creds.bucket}}),o=btoa(r.uniqueString()+(new Date).getTime()+r.uniqueString()).replace("=",r.uniqueString())+"."+r.getExtension(e.file.name),i={Key:o,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};s.putObject(i,function(s,i){s||(n.image=r.getConstants().AMAZONBUCKETURL+o,e.user.image=r.getConstants().AMAZONBUCKETURL+o,t.editUserPatch(n.id,e.user).then(function(s){n.user=JSON.stringify(e.user),e.file=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)}))})}else t.editUserPatch(n.id,e.user).then(function(s){n.user=JSON.stringify(e.user),e.file=!1,r.closeAllDialogs(),r.showDialog("success","accountInfoEditedSuccessfuly",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorEditingAccountInfo",!1)})},e.resetPassword=function(){if(e.password===e.passwordConfirmation){r.showLoading();var s={email:n.email,password:e.password,password_confirmation:e.passwordConfirmation};i.changePassword(s,n.token).then(function(s){r.closeAllDialogs(),n.token=btoa(n.email+":"+e.passwordConfirmation),r.showDialog("success","PasswordChangedSuccesfully",!1),e.password="",e.passwordConfirmation=""},function(){r.closeAllDialogs(),r.showDialog("error","InvalidNewPassword",!1)})}else r.showDialog("error","PasswordNoMatch",!1)},e.menuprincipal="views/organizers/menu.html")}e.$inject=["$scope","$translate","userRequest","$localStorage","$rootScope","allInterestsServiceRequest","loginRequest","userInterestRequest"],angular.module("sponzorme").controller("OrganizersSettingsController",e)}();
"use strict";!function(){function o(o,r,s,n,e,i,t){if(t.userValidation("0")){o.section={route:"Sponzorships",title:"Sponzorships"};var p;if(o.getTasks=function(r){if(r.task_sponzor.length){var s=r.task_sponzor.filter(function(o){return"0"===o.task.type?o:void 0});r.task_sponzor={},r.task_sponzor=s}o.currentSponzorship=r},o.todayDate=(new Date).getTime(),o.user=JSON.parse(e.user),o.user.sponzorships_like_organizer){var a=o.user.sponzorships_like_organizer.filter(function(o){return o.event.ends=new Date(o.event.ends).getTime(),o});o.user.sponzorships_like_organizer.filter=a,o.user.sponzorships_like_organizer.length&&o.getTasks(o.user.sponzorships_like_organizer[0])}o.acceptSponzorship=function(s,i){o.user.sponzorships_like_organizer[i].loading=!0,o.currentSponzorshipId=s;var a={status:1};n.editSponzorshipPatch(s,a).then(function(s){o.user.sponzorships_like_organizer[i].task_sponzor=s.data.Sponzorship.task_sponzor,o.user.sponzorships_like_organizer[i].status=1,o.user.sponzorships_like_organizer[i].loading=!1,o.currentSponzorship=o.user.sponzorships_like_organizer[i],e.user=JSON.stringify(o.user),p={to:o.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipAproved")+o.currentSponzorship.event.title+" - "+o.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},t.sendFirebaseNotification(p,o.currentSponzorship.sponzor.id)},function(){o.user.sponzorships_like_organizer[i].loading=!1,t.showDialog("error","problem",!1)})},o.unacceptSponzorship=function(s,i){o.currentSponzorshipId=s,o.user.sponzorships_like_organizer[i].loading=!0;var a={status:0};n.editSponzorshipPatch(s,a).then(function(s){o.user.sponzorships_like_organizer[i].status=0,o.user.sponzorships_like_organizer[i].task_sponzor=s.data.Sponzorship.task_sponzor,o.user.sponzorships_like_organizer[i].loading=!1,o.currentSponzorship=o.user.sponzorships_like_organizer[i],e.user=JSON.stringify(o.user),p={to:o.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipRejected")+o.currentSponzorship.event.title+" - "+o.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},t.sendFirebaseNotification(p,o.currentSponzorship.sponzor.id)},function(r){o.user.sponzorships_like_organizer[i].loading=!1,t.showDialog("error","problem",!1)})},o.deleteSponzorship=function(s,i){t.showLoading(),o.currentSponzorship=o.user.sponzorships_like_organizer[i],n.deleteSponzorship(s).then(function(){p={to:o.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.SponzorshipDeleted")+o.currentSponzorship.event.title+" - "+o.currentSponzorship.perk.kind,link:"#/sponzors/sponzoring"},t.sendFirebaseNotification(p,o.currentSponzorship.sponzor.id),o.user.sponzorships_like_organizer.splice(i,1),e.user=JSON.stringify(o.user),o.getTasks(o.user.sponzorships_like_organizer[0]),t.closeAllDialogs(),t.showDialog("success","successDeletingSponzorship",!1)},function(){t.closeAllDialogs(),t.showDialog("error","errorDeletingSponzorship",!1)})},o.changeStatus=function(n,i){o.currentSponzorship.task_sponzor[n].loading=!0;var a=o.currentSponzorship.task_sponzor[n].id,z={status:i};s.editTaskSponzorPatch(a,z).then(function(s){o.currentSponzorship.task_sponzor[n].loading=!1,o.currentSponzorship.task_sponzor[n].status=i,p={to:o.currentSponzorship.sponzor.id,text:r.instant("NOTIFICATIONS.TaskChanged1")+o.currentSponzorship.task_sponzor[n].task.title+r.instant("NOTIFICATIONS.TaskChanged2")+o.currentSponzorship.event.title+r.instant("NOTIFICATIONS.TaskChanged3"),link:"#/sponzors/sponzoring"},t.sendFirebaseNotification(p,o.currentSponzorship.sponzor.id),e.user=JSON.stringify(o.user)},function(){o.currentSponzorship.task_sponzor[n].loading=!1,t.showDialog("error","errorUpdatingTaskStatus",!1)})},o.seeCause=function(r){o.cause=r.cause,i.open({template:"views/templates/sponzorshipCauseDialog.html",showClose:!1,scope:o})},o.menuprincipal="views/organizers/menu.html"}}o.$inject=["$scope","$translate","taskSponzorRequest","sponzorshipRequest","$localStorage","ngDialog","$rootScope"],angular.module("sponzorme").controller("OrganizersSponzorshipsController",o)}();
"use strict";!function(){function e(e,t,a,n,o,s,r,i){r.userValidation("0")&&(e.section={route:"Events / Edit",title:"Event Edit"},e.user=JSON.parse(a.user),e.setEventData(),e.doEditEvent=function(t){r.showLoading(),e.eventData.organizer=a.id,e.eventData.location!==e.locationEvent&&(e.eventData.location=e.locationEvent.formatted_address,e.eventData.location_reference=e.locationEvent.place_id),e.eventData.organizer=a.id,e.eventData.starts=moment(e.eventData.starts).format("YYYY-MM-DD HH:mm:ss"),e.eventData.ends=moment(e.eventData.ends).format("YYYY-MM-DD HH:mm:ss"),o.editEventPut(t,e.eventData).then(function(t){e.user.events[i.id]=t.data.event,a.user=JSON.stringify(e.user),r.closeAllDialogs(),r.showDialog("success","eventEditedSuccesfully",!1)},function(e){r.closeAllDialogs(),r.showDialog("error","eventNoEdited",!1)})},e.addPerk=function(){e.eventData.perks.push({kind:"",usd:0,total_quantity:1,reserved_quantity:0})},e.removePerk=function(t){e.eventData.perks.splice(t,1)},e.eventData={},e.eventData=e.user.events[i.id],e.eventData.starts=new Date(e.eventData.starts).getTime(),e.eventData.ends=new Date(e.eventData.ends).getTime())}e.$inject=["$scope","$translate","$localStorage","eventTypeRequest","eventRequest","categoryRequest","$rootScope","$routeParams"],angular.module("sponzorme").controller("OrganizersEventEditController",e)}();
"use strict";!function(){function e(e,t,n,o,s,r,i,a){function c(e){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}r.userValidation("0")&&(e.section={route:"Events / Add",title:"Event Add"},e.newEvent={perks:[]},e.newEvent.starts=(new Date).getTime(),e.newEvent.ends=(new Date).getTime(),e.setEventData(),e.createNewEvent=function(){e.newEvent.location=e.locationevent.formatted_address,e.newEvent.location_reference=e.locationevent.place_id,e.newEvent.starts=moment(e.newEvent.starts).format("YYYY-MM-DD HH:mm:ss"),e.newEvent.ends=moment(e.newEvent.ends).format("YYYY-MM-DD HH:mm:ss"),e.newEvent.lang=r.currentLanguage(),e.newEvent.organizer=n.id,o.createEvent(e.newEvent).then(function(t){e.user=JSON.parse(n.user),e.user.events.push(t.data.event),n.user=JSON.stringify(e.user),e.newEvent={},e.locationevent={},r.closeAllDialogs(),r.showDialog("success","eventCreatedSuccesfully",!1)},function(){r.closeAllDialogs(),r.showDialog("error","errorCreatingEvent",!1)})},e.imageVerification=function(){if(r.showLoading(),e.loadingNewEvent=!0,e.errorNewEvent=!1,e.file){e.creds={bucket:r.getConstants().AMAZONBUCKET,access_key:r.getConstants().AMAZONKEY,secret_key:r.getConstants().AMAZONSECRET},AWS.config.update({accessKeyId:e.creds.access_key,secretAccessKey:e.creds.secret_key}),AWS.config.region=r.getConstants().AMAZONBUCKETREGION;var t=new AWS.S3({params:{Bucket:e.creds.bucket}}),n=btoa(r.uniqueString()+(new Date).getTime()+r.uniqueString()).replace("=",r.uniqueString())+"."+r.getExtension(e.file.name),o={Key:n,ContentType:e.file.type,Body:e.file,ServerSideEncryption:"AES256"};t.putObject(o,function(t,o){t||(e.newEvent.image=r.getConstants().AMAZONBUCKETURL+n,e.createNewEvent())})}else e.newEvent.image="https://s3-us-west-2.amazonaws.com/sponzormewebappimages/event_default.jpg",e.createNewEvent()},e.addSponzorshipType=function(){e.newEvent.perks.push({kind:"",usd:0,total_quantity:1,reserved_quantity:0})},e.removeSponzorshipType=function(t){e.newEvent.perks.splice(t,1)},i.eventBriteCode?a.getEventbriteAuth(i.eventBriteCode).success(function(t){var o=JSON.parse(c(t.response));o.error?(e.loadingGetToken=!1,e.reconnectEventbrite=!0,e.conectionDone=!1):(n.eventBriteBeared=o.access_token,e.connectEventbrite())}):i.meetupCode&&a.getMeetupAuth(i.meetupCode).success(function(t){var o=JSON.parse(c(t.response));o.error?(e.meetupLoadingGetToken=!1,e.reconnectMeetup=!0,e.meetupConectionDone=!1):(n.meetupBeared=o.access_token,e.connectMeetup())}),e.connectMeetup=function(){e.meetupLoadingGetToken=!0,e.loadingGetMeetupEvents=!1,s.open({template:"views/templates/importMeetupDialog.html",showClose:!1,scope:e}),n.meetupBeared?(e.meetupLoadingGetToken=!1,e.loadingGetMeetupEvents=!0,e.meetupConectionDone=!0,e.getMeetupGroups(n.meetupBeared)):(e.meetupLoadingGetToken=!1,e.loadingGetMeetupEvents=!1,e.meetupConectionDone=!1,a.getMeetupAuth(i.meetupBeared).success(function(t){var o=JSON.parse(c(t.response));o.error?(e.meetupLoadingGetToken=!1,e.reconnectMeetup=!0,e.meetupConectionDone=!1):(n.meetupBeared=o.access_token,e.meetupLoadingGetToken=!1,e.loadingGetMeetupEvents=!0,e.meetupConectionDone=!0,e.getMeetupGroups(o.access_token))}))},e.EVENTBRITEAPYKEY=r.getConstants().EVENTBRITEAPYKEY,e.getEventbriteEvents=function(t){a.getEventbriteEvents(t).success(function(t,n){e.loadingGetEvents=!1,e.evenbriteEvents=t.events}).error(function(t){e.loadingGetEvents=!1,e.errorGettingEvents=!0,e.evenbriteEvents=!1})},e.MEETUPAPIKEY=r.getConstants().MEETUPAPIKEY,e.MEETUPREDIRECTURL=r.getConstants().MEETUPREDIRECTURL,e.getMeetupGroups=function(t){a.getMeetupGroups(t).success(function(t){e.loadingGetMeetupEvents=!1,e.meetupEvents=JSON.parse(t.response)}).error(function(t){e.loadingGetMeetupEvents=!1,e.errorGettingGroups=!0,e.meetupEvents=!1})},e.connectEventbrite=function(){e.loadingGetToken=!0,e.loadingGetEvents=!1,s.open({template:"views/templates/importEventbriteDialog.html",showClose:!1,scope:e}),n.eventBriteBeared?(e.loadingGetToken=!1,e.loadingGetEvents=!0,e.conectionDone=!0,e.getEventbriteEvents(n.eventBriteBeared)):(e.loadingGetToken=!1,e.loadingGetEvents=!1,e.conectionDone=!1,a.getEventbriteAuth(i.eventBriteCode).success(function(t){var o=JSON.parse(c(t.response));o.error?(e.loadingGetToken=!1,e.reconnectEventbrite=!0,e.conectionDone=!1):(n.eventBriteBeared=o.access_token,e.loadingGetToken=!1,e.loadingGetEvents=!0,e.conectionDone=!0,e.getEventbriteEvents(o.access_token))}))},e.prefilEventForm=function(t){a.getEventbriteEvent(t,n.eventBriteBeared).success(function(t){e.newEvent.title=t.name.text,e.newEvent.description=t.description.html,e.newEvent.starts=t.start.local,e.newEvent.ends=t.end.local,e.newEvent.privacy=0,r.closeAllDialogs()})},e.prefilEventFormMeetup=function(t){e.newEvent.title=t.name,e.newEvent.description=t.description,e.newEvent.starts=new Date(t.time);var n=new Date(t.time),o=parseInt(72e5),s=new Date(n.getTime()+o);e.newEvent.ends=new Date(s),e.privacyevent=0,r.closeAllDialogs()},e.menuprincipal="views/organizers/menu.html")}e.$inject=["$scope","$translate","$localStorage","eventRequest","ngDialog","$rootScope","$routeParams","eventbriteRequest"],angular.module("sponzorme").controller("OrganizersEventCreateController",e)}();
"use strict";!function(){function r(r,o,i,s,n,e){i.userValidation("0")&&n.sponzorshipId&&(r.section={route:"Sponzorships / Rating",title:"Sponzorship Rating"},r.loadingForm=!0,r.user=JSON.parse(s.user),r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[0]&&r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[0].organizer_id===s.id&&"0"===r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[0].type||r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[1]&&r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[1].organizer_id===s.id&&"0"===r.user.sponzorships_like_organizer[n.sponzorshipId].ratings[1].type?i.showDialog("error","ratingAlreadyRated","/organizers/sponzors"):r.rating={sponzorship_id:r.user.sponzorships_like_organizer[n.sponzorshipId].id,type:0,sponzor_id:r.user.sponzorships_like_organizer[n.sponzorshipId].sponzor_id,organizer_id:r.user.sponzorships_like_organizer[n.sponzorshipId].organizer_id,other:""},r.saveRating=function(){i.showLoading(),r.rating.other&&(r.rating.question5="Other: "+r.rating.other),e.createRating(r.rating).then(function(e){r.user.sponzorships_like_organizer[n.sponzorshipId].ratings.push(e.data.Rating),s.user=JSON.stringify(r.user);var a={to:e.data.Rating.sponzor_id,text:o.instant("NOTIFICATIONS.SponzorRated")+r.user.name,link:"#/profile/"+e.data.Rating.sponzor_id};i.sendFirebaseNotification(a,e.data.Rating.sponzor_id),r.rating={},i.closeAllDialogs(),i.showDialog("success","ratingOrganizerSuccess","/organizers/sponzors")},function(o){r.loadingForm=!1,i.closeAllDialogs(),i.showDialog("error","invalidRateInfo",!1)})},r.menuprincipal="views/organizers/menu.html")}r.$inject=["$scope","$translate","$rootScope","$localStorage","$routeParams","ratingRequest"],angular.module("sponzorme").controller("OrganizersRatingController",r)}();
"use strict";!function(){function e(e,t,n,s,r,a){e.setEventData=function(){r.eventTypes?e.eventTypes=JSON.parse(r.eventTypes):t.allEventTypes().then(function(t){r.eventTypes=JSON.stringify(t.data.eventTypes),e.eventTypes=t.data.eventTypes}),r.categories?e.categories=JSON.parse(r.categories):a.allCategories().then(function(t){r.categories=JSON.stringify(t.data.categories),e.categories=t.data.categories})},e.verifyPerkLimit=function(e){(e.usd>n||"undefined"==typeof e.usd)&&(e.usd=n,s.showDialog("error","maxLimitPerk",!1))},e.menuprincipal="views/organizers/menu.html"}e.$inject=["$scope","eventTypeRequest","MAXPERKLIMIT","$rootScope","$localStorage","categoryRequest"],angular.module("sponzorme").controller("OrganizersMasterController",e)}();
"use strict";!function(){function e(e,t,a,n,o,i){if(a.id){e.help=0;var r=new Firebase(o.getConstants().FURL+"notifications/"+a.id);e.notifications=n(r),r.on("child_added",function(t){var n=t.val();a.lastUpdate<n.date&&i.home(a.id).then(function(t){a.lastUpdate=(new Date).getTime(),e.user=t.data.data.user,a.user=JSON.stringify(e.user)})})}}e.$inject=["$scope","$translate","$localStorage","$firebaseArray","$rootScope","userRequest"],angular.module("sponzorme").controller("NotificationController",e)}();
"use strict";!function(){function e(e,o,s,a,n,r,t){if(s.id){e.section={route:"Sponzorship / Chat",title:"Sponzorship Chat"},e.$storage=s,r.oneSponzorship(n.sponzorshipId).success(function(o){o.data.Organizer.id===s.id?e.newMessage={author:o.data.Organizer.name,color:"#5DDECF",sponzorshipId:n.sponzorshipId}:o.data.Sponzor.id===s.id?e.newMessage={author:o.data.Sponzor.name,color:"#F6CECE",sponzorshipId:n.sponzorshipId}:a.path("/login")});var i=new Firebase(t.getConstants().FURL+"chat"),p=i.orderByChild("sponzorshipId").equalTo(n.sponzorshipId);e.chatMessages=o(p),e.addMessage=function(){e.newMessage.text&&(e.newMessage.userImage=s.image,e.newMessage.timedate=(new Date).getTime(),e.chatMessages.$add(e.newMessage),e.newMessage.text="")}}else a.path("/");"1"===s.typesponzorme?e.menuprincipal="views/sponzors/menu.html":"0"===s.typesponzorme?e.menuprincipal="views/organizers/menu.html":a.path("/")}e.$inject=["$scope","$firebaseArray","$localStorage","$location","$routeParams","sponzorshipRequest","$rootScope"],angular.module("sponzorme").controller("ChatController",e)}();
"use strict";!function(){function o(o,r,e,s,l){l.closeAllDialogs(),o.loading=!0,l.showLoading(),e.oneUser(r.userId).success(function(e){o.user=e.data.user,o.user.rating=e.data.rating,"0"===e.data.user.type?s.ratingsByOrganizer(r.userId).success(function(r){o.ratings=r.data.Rating,o.loading=!1,l.closeAllDialogs()}).error(function(){l.closeAllDialogs(),l.showDialog("error","problem","/")}):"1"===e.data.user.type?s.ratingsBySponzor(r.userId).success(function(r){o.ratings=r.data.Rating,o.loading=!1,l.closeAllDialogs()}).error(function(){l.closeAllDialogs(),l.showDialog("error","problem","/")}):(l.closeAllDialogs(),l.showDialog("error","problem","/"))}).error(function(){l.closeAllDialogs(),l.showDialog("error","problem","/")})}o.$inject=["$scope","$routeParams","userRequest","ratingRequest","$rootScope"],angular.module("sponzorme").controller("ProfileController",o)}();
"use strict";!function(){function o(o,l,e,n,t,a){o.close=function(o){n.path(o),e.closeAll()},o.closeLoading=function(){n.path("/login"),e.closeAll()},o.delayed=!1,o.delayed===!1&&t(function(){o.delayed=!0},15e3)}o.$inject=["$scope","$translate","ngDialog","$location","$timeout","$localStorage"],angular.module("sponzorme").controller("DialogController",o)}();